/* Copyright (c) 2025 WalkMe v2.14.15 */
;(function () { var __wmPrelibConfig = {"buildDate":"2025-03-06T00:09:02.239Z","plugins":[{"name":"wm-plugin-accessibility@2.11.0@prelib","url":"prelib"},{"name":"wm-plugin-user-behavior@5.0.79@prelib","url":"prelib"}]};
(()=>{var t={224:t=>{!function(){function e(t,e){this._object=void 0,this._name=t,this._ctx=e,this.properties={strategy:a.defaults.strategy,factory:a.defaults.factory,injector:a.defaults.injector,load:a.defaults.load,wasReady:!1,initialize:!0}}e.prototype.name=function(){return this._name},e.prototype.asFactory=function(t,e){return null!=e&&this.type(e),this.factory(t),this},e.prototype.loadDependencies=function(t,e){return null!=e&&this.dependencies(e),this.load(t),this},e.prototype.asFunction=function(t){return this.asFactory(a.factory.func,t)},e.prototype.asInstance=function(t){return this.asFactory(a.factory.instance,t)},e.prototype.asCtor=function(t){return this.asFactory(a.factory.constructor,t)},e.prototype.asSingleton=function(){return this.strategy(a.strategy.singleton)},e.prototype.asProto=function(){return this.strategy(a.strategy.proto)},e.prototype.injectToCtor=function(){return this.injector(a.injector.ctor)},e.prototype.injectToReady=function(){return this.injector(a.injector.ready)},e.prototype.injectToProperty=function(){return this.injector(a.injector.property)},e.prototype.flatDependencies=function(t){return this.loadDependencies(a.load.flat,t)},e.prototype.recursiveDependencies=function(t){return this.loadDependencies(a.load.recursive,t)},e.prototype.useOnce=function(){var t=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,t.apply(this,arguments)},this},e.prototype.depsDictionary=function(t){return arguments.length?(this.properties.depsDictionary=t,this):(this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary)},e.prototype.create=function(t,e,r){r=r||a.load.recursive;var n=this.properties.strategy.test(this._object,r);if(e)return n;n&&(t=this.properties.injector.create(t||this.properties.args,this,this._ctx,r));var o=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,t,this._ctx,this,r);return this._ctx.ready(o,this)},e.prototype.getObject=function(t){return this.create(void 0,void 0,t)},e.prototype.object=function(t){return arguments.length?(this._object=t,this):this.create()};for(var r=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],n=0;n<r.length;n++){o(r[n])}function o(t){e.prototype[t]=function(e){return arguments.length?(this.properties[t]=e,this):this.properties[t]}}var i=function(){function t(t){this.fallbackCtx=t,this.map={},this.decorators={},this.initialize=this.createInitializer()}return t.prototype.decorate=function(t,e){this.decorators[t]||(this.decorators[t]=[]),this.decorators[t].push(e)},t.prototype.entry=function(t){return void 0!==this.map[t]?this.map[t]:this.fallbackCtx&&this.fallbackCtx.entry(t)},t.prototype.register=function(t,r,n){var o=new e(t,this).type(r).args(n);return this.map[t]=o,o},t.prototype.has=function(t){return null!=this.entry(t)},t.prototype.remove=function(t){return!!this.has(t)&&(this.map[t]=null,!0)},t.prototype.isEntryRemoved=function(t){return null===this.entry(t)},t.prototype.get=function(t,e){return this.isEntryRemoved(t)&&a.error("Object["+t+"] was removed"),this.has(t)||a.error("Object["+t+"] is not registered"),this.entry(t).getObject(e)},t.prototype.create=function(t,e){if(this.entry(t).strategy()==a.strategy.singleton&&a.error("Attempt to create singleton object ["+t+"]"),this.has(t))return this.entry(t).create(e);a.error("Object["+t+"] is not registered")},t.prototype.createInitializer=function(){var t=this;return function(e){if(e)t.innerInit(e);else for(var r in t.map)t.innerInit(r)}},t.prototype.innerInit=function(t){var e=this.entry(t);e?e.initialize()&&e.strategy().initialize()&&this.get(t):a.error("Object["+t+"] is not registered")},t.prototype.clear=function(){this.map={},this.decorators={}},t.prototype.removeSpaces=function(t){for(;t.indexOf(" ")>=0;)t=t.replace(" ","");return t},t.prototype.resolve=function(t){var e=this,r=t.load(),n={};return this.eachDependency(t.dependencies(),(function(o,i){var s=e.get(o,r);e.ready(s,e.entry(o)),null==s&&a.error("Dependency ["+t.name()+"."+i+"]->["+o+"] can not be satisfied",t),n[i]=s})),n},t.prototype.eachDependency=function(t,e){if(t)for(var r=this.removeSpaces(t).split(","),n=0;n<r.length;n++){var o=r[n];if(o){var i=a.dependencyExpression(o);try{e(i.name,i.property,n)}catch(t){a.error("An exception was thrown while the DI tried to resolve class '"+i.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+t.message)}}}},t.prototype.ready=function(t,e){if(null===e&&t)return t;var r=e.wasReady();if(e.wasReady(!0),!r){var n=this.createCallback();n&&n(e.name(),t),t&&"function"==typeof t.ready&&t!=window&&t!=window.document&&t!=window.document.body&&(e.wasReady(!0),t.ready.apply(t,e.injector().ready(t,e)||[]))}return t},t.prototype.createCallback=function(t){return 0==arguments.length?this.callback:(this.callback=t,this)},t}(),a=function(t){(t=t||{}).version="0.3.3";function r(t,e,r,n,o){var i=t(e,r,o),a=void 0!==n.decorators[o.name()]?n.decorators[o.name()]:n.fallbackCtx&&n.fallbackCtx.decorators[o.name()];if(a)for(var s=0;s<a.length;s++)i=a[s](i);return i}return t.logger=function(t,e){},t.log=function(e,r,n){r&&(e="[class="+r.name()+"] "+e),t.logger("DI - "+e,n||4)},t.error=function(e,r,n){t.log(e,r,n)},t.createContext=function(t){return new i(t)},t.dependencyExpression=function(t){var e={},r=t,n=t;if(t.indexOf("=")>0){var o=t.split("=");r=o[0],n=o[1]}return e.name=n,e.property=r,e},t.entry=function(t,r){return new e(t,r)},t.strategy={proto:{test:function(t,e){return!e||e()},initialize:function(){return!1},create:function(t,e,n,o,i,a,s){return t=r(e,n,o,i,a),s()&&a.injector().ready(t,a),a.depsDictionary(void 0),a.wasReady(!1),t}},singleton:{test:function(t,e){return!t&&(!e||e())},initialize:function(){return!0},create:function(t,e,n,o,i,a,s){return t||(t=r(e,n,o,i,a),a.object(t),a.wasReady(!0),s()&&a.injector().ready(t,a),a.wasReady(!1)),t}}},t.factory={constructor:function(e,r,n){return r instanceof Array?r.length<=10?new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9]):r.length<=30?new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15],r[16],r[17],r[18],r[19],r[20],r[21],r[22],r[23],r[24],r[25],r[26],r[27],r[28],r[29]):void t.error("trying to create a class with too many args!",n):new e(r)},func:function(t,e,r){return e instanceof Array?t.apply(t,e):t(e)},instance:function(t,e,r){return t}},t.injector={property:{create:function(t,e,r){return t},ready:function(t,e){var r=e.depsDictionary();for(var n in r)t[n]=r[n];var o=e.args();null==o||r.hasOwnProperty("args")||(t.args=o)}},ready:{create:function(t,e,r){return t},ready:function(t,e){var r=e.args(),n=[],o=e.depsDictionary();if(s.eachDependency(e.dependencies(),(function(t,e,r){n[r]=o[e]})),r){r=r instanceof Array?r:[r];for(var i=0;i<r.length;i++)n.push(r[i])}return n}},ctor:{create:function(t,e,r){var n=[],o=e.depsDictionary();if(r.eachDependency(e.dependencies(),(function(t,e,r){n[r]=o[e]})),t){t=t instanceof Array?t:[t];for(var i=0;i<t.length;i++)n.push(t[i])}return n},ready:function(t,e){}}},t.load={flat:function(t,e,r){return!1},recursive:function(t,e,r){return!0}},t.defaults={strategy:t.strategy.singleton,factory:t.factory.constructor,injector:t.injector.ctor,load:t.load.recursive},t}(),s=a.createContext();
/**
 * @license
 *  Copyright 2013 the original author or authors.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  You may obtain a copy of the License at
 *
 *		http://www.apache.org/licenses/LICENSE-2.0
    *
    *  Unless required by applicable law or agreed to in writing, software
    *  distributed under the License is distributed on an "AS IS" BASIS,
    *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    *  See the License for the specific language governing permissions and
    *  limitations under the License.
    */t.exports=function(t,e){t.di=a,t.ctx=e?a.createContext(e):s}}()},57:(t,e)=>{"use strict";e.__esModule=!0;var r=function(){function t(t){this._eventsBase=t}return t.prototype.on=function(t,e){var r=n(e);this._eventsBase.on(t,r)},t.prototype.once=function(t,e){var r=n(e);this._eventsBase.one(t,r)},t.prototype.off=function(t,e){var r=function(t){return t&&t.__wmEventWrapped||t}(e);this._eventsBase.off(t,r)},t}();function n(t){return t.__wmEventWrapped||(t.__wmEventWrapped=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=(e[0],e[1]);return o&&o.__asyncResults&&o.__asyncResults.push(n),n}}(t)),t.__wmEventWrapped}e.EventsListener=r},805:(t,e)=>{"use strict";e.__esModule=!0;var r=function(){function t(t,e){this._eventsBase=t,this._promiseManager=e}return t.prototype.async=function(t,e,r,n){var o;try{o=this._eventsBase.triggerHandler(t,e)}catch(t){n&&n()}this._promiseManager.Promise.resolve(o).then(r,n)},t.prototype.sync=function(t,e,r){var n=e&&e.asyncCallback;n&&(e.__asyncResults=[]);var o=this._eventsBase.triggerHandler(t,e);return n&&(o=this._promiseManager.all(e.__asyncResults).then((function(t){return t[t.length-1]}))),null==o?r:o},t}();e.EventsTrigger=r},662:(t,e,r)=>{"use strict";var n=r(57);e._e=n.EventsListener;var o=r(805);e.gt=o.EventsTrigger},508:(t,e,r)=>{"use strict";e.__esModule=!0,e.ActivationManager=function(t){var e=t.wmLoader,r=this;r.list=function(){var t=[];for(var r in e.packages)e.packages.hasOwnProperty(r)&&t.push({name:r,isActive:!0});for(var n=0;n<e.inactive.length;n++)t.push({name:e.inactive[n],isActive:!1});return t},r.deactivateAll=function(){a(o.inactive)},r.activateAll=function(){a(o.active)},r.activate=function(t){i(t,o.active)},r.deactivate=function(t){i(t,o.inactive)};var o={active:1,inactive:0};function i(t,e){var r=n.pluginsStateWrapper.getState();r[t]=e,n.pluginsStateWrapper.saveState(r)}function a(t){var r={};for(var o in e.packages)e.packages.hasOwnProperty(o)&&(r[o]=t);for(var i=0;i<e.inactive.length;i++)r[e.inactive[i]]=t;n.pluginsStateWrapper.saveState(r)}};var n=r(971)},606:(t,e)=>{"use strict";e.__esModule=!0;e.cookieManager=new function(){this.setCookie=function(r,n,o,i){"string"!=typeof n&&(n=n.toString());n=encodeURIComponent(n);var a="";i&&i.length>0&&(a="; domain="+i);var s=new Date;s.setTime(s.getTime()+1e3*o);var c="; expires="+s.toUTCString(),u=e?t:"",l=n+c+"; path=/"+a;document.cookie=r+"="+l+u},this.getCookie=function(t){for(var e=document.cookie.split(";"),r=0;r<e.length;r++){var n=e[r].substr(0,e[r].indexOf("=")),o=e[r].substr(e[r].indexOf("=")+1);if((n=n.replace(/^\s+|\s+$/g,""))===t)return decodeURIComponent(o)}};var t=";secure",e=void 0;e="https:"===window.location.protocol}},556:(t,e)=>{"use strict";e.__esModule=!0,e.dummyPlugin=function(t,e){var r=t(),n=r.ctx,o=n.get("PrelibLogger");o.write("[wm-loader] "+e+" is disabled and therefore not loaded")}},640:(t,e,r)=>{"use strict";e.__esModule=!0,e.default=function(t){var e=t.Promise,r=t.document,i=this;i.load=function(t,i){if(!t)throw new Error("cannot load module without a name");if(!i)throw new Error("cannot load module without an URL");if(!n.pluginsStateWrapper.shouldLoad(t))return d.push(t),e.resolve((function(e){(0,o.dummyPlugin)(e,t)}));var a=f[t]=f[t]||{name:t};if(!a.promise)if(a.factory)a.promise=e.resolve(h(a));else{(w=a).promise=new e((function(t,e){w.resolve=t,w.reject=e}));var p=function(t,e){var n=l[e];if(n)n.packages[t]=!0;else{var o;n=l[e]={url:e,status:"loading",start:new Date,packages:(o={},o[t]=!0,o)};var i=function(t){var e=r.createElement("script");return e.type="text/javascript",e.charset="utf-8",e.async=!0,e.src=t,e}(e);!function(t,e){if(t.addEventListener)t.addEventListener("load",v(e),!1),t.addEventListener("error",y(e),!1);else{if(!t.attachEvent)throw new Error("neither addEventListener nor attachEvent is supported");t.attachEvent("onreadystatechange",v(e))}}(i,e),u.appendChild(i)}return n}(t,i);"loaded"===p.status?g(a,s(t,i)):"error"===p.status&&g(a,c(t,i))}var w;return a.promise},i.define=function(t,e,r){if(!n.pluginsStateWrapper.shouldLoad(t))return;var o=f[t]=f[t]||{name:t};o.factory||(o.factory=r,o.build=e);if(o.resolve)try{i=o,a=h(o),i.resolve(a),w(i)}catch(e){g(o,function(t,e){var r=new Error("error thrown in factory. package: "+e+"\ncaused by:\n"+t.stack);return r.name="FactoryError",r.cause=t,r.package=e,r}(e,t))}var i,a};var u=r.getElementsByTagName("head")[0],l={},f={},p=[],d=[];function h(t){return t.factory(t.build)}i.bundles=l,i.packages=f,i.errors=p,i.inactive=d;var v=function(t){return function(e){if(function(t){if("load"===t.type)return!0;var e=a(t),r=e.readyState;return"complete"===r||"loaded"===r}(e)){var r=l[t];for(var n in r.status="loaded",r.loadMs||(r.loadMs=(new Date).getTime()-r.start),r.packages)if(r.packages.hasOwnProperty(n)){var o=f[n];o.reject&&g(o,s(n,t))}m(a(e))}}},y=function(t){return function(e){var r=l[t];for(var n in r.status="error",r.loadMs||(r.loadMs=(new Date).getTime()-r.start),r.packages)if(r.packages.hasOwnProperty(n)){var o=f[n];o.reject&&g(o,c(n,t))}m(a(e))}};function g(t,e){!function(t){t.date=new Date,p.push(t)}(e),t.reject(e),w(t)}function w(t){delete t.resolve,delete t.reject}function m(t){t.parentNode.removeChild(t)}};var n=r(971),o=r(556),i=r(508);function a(t){return t.currentTarget||t.srcElement}function s(t,e){var r=new Error("package not found in the specified bundle. package: "+t+", bundle: "+e);return r.name="PackageNotFound",r.package=t,r.bundle=e,r}function c(t,e){var r=new Error("cannot load bundle. package: "+t+", bundle: "+e);return r.name="BundleLoadError",r.package=t,r.bundle=e,r}e.ActivationManager=i.ActivationManager},971:(t,e,r)=>{"use strict";e.__esModule=!0,e.pluginsStateWrapper=void 0;var n=r(606);e.pluginsStateWrapper=new function(){var t=this;t.shouldLoad=function(t){return!(0===e[t])},t.saveState=function(t){n.cookieManager.setCookie(r,JSON.stringify(t),86400)},t.getState=function(){return JSON.parse(n.cookieManager.getCookie(r)||"{}")};var e=void 0,r="walkme_prelib_activ_state";e=JSON.parse(n.cookieManager.getCookie(r)||"{}")}},780:t=>{"use strict";var e,r,n,o,i="walkme_prelib_log_enabled",a="wm-prelib-send-logs",s=[],c=[],u={write:function(){if(f()){var t=arguments;try{t.stack=(new Error).stack}catch(t){}!function(t){var e=new Date;t.timeElapsed=e-(n||e),n=e,s.unshift(t),s=s.splice(0,1e4)}(t);var r=Array().slice.call(t);console.log.apply(console,r)}(function(){if("boolean"==typeof e)return e;e=!1;var t=localStorage.getItem(a);n=t,o=parseInt(n),!isNaN(o)&&o==n&&Date.now()<t?e=!0:"true"===t&&(e=!0,localStorage.setItem(a,((r=new Date).setDate(r.getDate()+1),r.setHours(0,0,0,0))));var r;var n,o;return e})()&&(_walkmeInternals.ctx.has("DataSenderLog")?(!function(){for(;c.length;)l(c.shift())}(),l(h(arguments))):c.push(h(arguments)))},getCookieName:function(){return i},setCookieName:function(t){i=t},enableLog:function(){r=!0,d(i,!0)},disableLog:function(){r=!1,d(i,"",-1)},isLogEnabled:f,readCookie:p,writeCookie:d,getLogHistoryRecords:function(){return s}};function l(t){_walkmeInternals.ctx.get("EventCollectorLogger").log("info",t,{component:"prelib",_logSessionId:(o||(o=_walkmeInternals.ctx.get("GuidGenerator").generateGuid()),o)})}function f(){return void 0!==r?r:(t=window.console&&(p(i)||!1),r=t&&"true"==t.toString().toLowerCase());var t}function p(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():void 0}function d(t,e,r){var n,o="";r&&((n=new Date).setTime(n.getTime()+864e5*r),o="; expires="+n.toUTCString()),document.cookie=t+"="+e+o+"; path=/"}function h(t){for(var e="",r=0,n=t.length;r<n;r++){e=e+("string"==typeof t[r]?t[r]:JSON.stringify(t[r]))+" "}return e.slice(0,-1)}t.exports=u},743:(t,e)=>{"use strict";var r=function(){function t(t){this.promiseManager=t,this._plugins=[]}return t.prototype.register=function(t){this._plugins.push(t)},t.prototype.run=function(t){for(var e,r=this._plugins,n=[],o=0;o<r.length;o++)(e=r[o].run(t))&&n.push(e);return this.promiseManager.all(n)},t}();e.Q=r},257:(t,e)=>{"use strict";var r=function(){function t(t,e,r){this.PluginsManager=e,this._configs=new this.PluginsManager(r),this._plugins=new this.PluginsManager(r),this.ctx=t.ctx,this.di=t.di}return t.prototype.config=function(t){this._configs.register(t)},t.prototype.plugin=function(t){this._plugins.register(t)},t.prototype.start=function(t){var e=this,r=this._configs,n=this._plugins;return r.run(t).then((function(){return n.run(t)})).then((function(){return e.callWalkmePreLibLoaded()})).catch((function(t){e.logError(t)}))},t.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},t.prototype.logError=function(t){throw this.ctx.has("PrelibLogger")&&this.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+t+"\nDetails:\n"+t.stack),t},t}();e.H=r},551:t=>{t.exports=function(t,e,r){var n=e().ctx,o=n.get("PromiseManager").Promise,i=n.get("PrelibLogger");l("loading plugins",t);for(var a=[],s=0;s<t.plugins.length;s++){var c=u(t.plugins[s]);a.push(c)}return o.all(a).then((function(){return}));function u(t){return l("loading",t.name,"from",t.url),r.load(t.name,t.url).then((function(r){l("loaded",t.name),r(e)})).catch((function(e){l("cannot load",t.name),i.write(e),r.errors.push(e)}))}function l(){for(var t=["[prelib-loader]"],e=0;e<arguments.length;e++)t.push(arguments[e]);i.write.apply(i,t)}}},403:(t,e,r)=>{var n,o,i=(o=document.getElementById("walkme-native-functions"))?o.contentWindow:((n=document.createElement("iframe")).id="walkme-native-functions",n.style.display="none",n.style.position="absolute",n.style.visibility="hidden",n.style.zIndex="-2147483647",document.body.appendChild(n),n.contentWindow),a=i&&i.Promise,s={};a?(a.Promise=i.Promise,(s=a).on=function(){},s.defer=function(){return wmjQuery.Deferred()}):
/*!
  * @overview RSVP - a tiny implementation of Promises/A+.
  * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
  * @license   Licensed under MIT license
  *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
  * @version   3.1.0
  */
s=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=Date.now||function(){return(new Date).getTime()};function o(){}var i=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return o.prototype=t,new o};function a(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function s(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}var c={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,e){if("function"!=typeof e)throw new TypeError("Callback must be a function");var r,n=s(this);(r=n[t])||(r=n[t]=[]),-1===a(r,e)&&r.push(e)},off:function(t,e){var r,n,o=s(this);e?-1!==(n=a(r=o[t],e))&&r.splice(n,1):o[t]=[]},trigger:function(t,e,r){var n;if(n=s(this)[t])for(var o=0;o<n.length;o++)(0,n[o])(e,r)}},u={instrument:!1};function l(t,e){if("onerror"!==t)return 2!==arguments.length?u[t]:void(u[t]=e);u.on("error",e)}c.mixin(u);var f=[];var p=function(t,e,r){1===f.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:r&&r._id,label:e._label,timeStamp:n(),error:u["instrument-with-stack"]?new Error(e._label):null}})&&setTimeout((function(){for(var t,e=0;e<f.length;e++){var r=(t=f[e]).payload;r.guid=r.key+r.id,r.childGuid=r.key+r.childId,r.error&&(r.stack=r.error.stack),u.trigger(t.name,t.payload)}f.length=0}),50)};function d(){}var h=void 0,v=new E;function y(e,r){if(r.constructor===e.constructor)!function(t,e){1===e._state?m(t,e._result):2===e._state?(e._onError=null,_(t,e._result)):b(e,void 0,(function(r){e!==r?g(t,r):m(t,r)}),(function(e){_(t,e)}))}(e,r);else{var n=function(t){try{return t.then}catch(t){return v.error=t,v}}(r);n===v?_(e,v.error):void 0===n?m(e,r):t(n)?function(t,e,r){u.async((function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,(function(r){n||(n=!0,e!==r?g(t,r):m(t,r))}),(function(e){n||(n=!0,_(t,e))}),t._label);!n&&o&&(n=!0,_(t,o))}),t)}(e,r,n):m(e,r)}}function g(t,e){var r;t===e?m(t,e):"function"==typeof(r=e)||"object"==typeof r&&null!==r?y(t,e):m(t,e)}function w(t){t._onError&&t._onError(t._result),k(t)}function m(t,e){t._state===h&&(t._result=e,t._state=1,0===t._subscribers.length?u.instrument&&p("fulfilled",t):u.async(k,t))}function _(t,e){t._state===h&&(t._state=2,t._result=e,u.async(w,t))}function b(t,e,r,n){var o=t._subscribers,i=o.length;t._onError=null,o[i]=e,o[i+1]=r,o[i+2]=n,0===i&&t._state&&u.async(k,t)}function k(t){var e=t._subscribers,r=t._state;if(u.instrument&&p(1===r?"fulfilled":"rejected",t),0!==e.length){for(var n,o,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?x(r,n,o,i):o(i);t._subscribers.length=0}}function E(){this.error=null}var j=new E;function x(e,r,n,o){var i,a,s,c,u=t(n);if(u){if(i=function(t,e){try{return t(e)}catch(t){return j.error=t,j}}(n,o),i===j?(c=!0,a=i.error,i=null):s=!0,r===i)return void _(r,new TypeError("A promises callback cannot return that same promise."))}else i=o,s=!0;r._state!==h||(u&&s?g(r,i):c?_(r,a):1===e?m(r,i):2===e&&_(r,i))}function C(t,e,r){return 1===t?{state:"fulfilled",value:r}:{state:"rejected",reason:r}}function S(t,e,r,n){var o=this;o._instanceConstructor=t,o.promise=new t(d,n),o._abortOnReject=r,o._validateInput(e)?(o._input=e,o.length=e.length,o._remaining=e.length,o._init(),0===o.length?m(o.promise,o._result):(o.length=o.length||0,o._enumerate(),0===o._remaining&&m(o.promise,o._result))):_(o.promise,o._validationError())}var P=S;S.prototype._validateInput=function(t){return e(t)},S.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},S.prototype._init=function(){this._result=new Array(this.length)},S.prototype._enumerate=function(){for(var t=this,e=t.length,r=t.promise,n=t._input,o=0;r._state===h&&o<e;o++)t._eachEntry(n[o],o)},S.prototype._eachEntry=function(t,e){var r,n=this,o=n._instanceConstructor;"object"==typeof(r=t)&&null!==r?t.constructor===o&&t._state!==h?(t._onError=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(o.resolve(t),e):(n._remaining--,n._result[e]=n._makeResult(1,e,t))},S.prototype._settledAt=function(t,e,r){var n=this,o=n.promise;o._state===h&&(n._remaining--,n._abortOnReject&&2===t?_(o,r):n._result[e]=n._makeResult(t,e,r)),0===n._remaining&&m(o,n._result)},S.prototype._makeResult=function(t,e,r){return r},S.prototype._willSettleAt=function(t,e){var r=this;b(t,void 0,(function(t){r._settledAt(1,e,t)}),(function(t){r._settledAt(2,e,t)}))};var A=function(t,e){return new P(this,t,!0,e).promise};var I=function(t,r){var n=new this(d,r);if(!e(t))return _(n,new TypeError("You must pass an array to race.")),n;var o=t.length;function i(t){g(n,t)}function a(t){_(n,t)}for(var s=0;n._state===h&&s<o;s++)b(this.resolve(t[s]),void 0,i,a);return n};var O=function(t,e){if(t&&"object"==typeof t&&t.constructor===this)return t;var r=new this(d,e);return g(r,t),r};var T=function(t,e){var r=new this(d,e);return _(r,t),r},D="rsvp_"+n()+"-",M=0;function L(e,r){var n=this;n._id=M++,n._label=r,n._state=void 0,n._result=void 0,n._subscribers=[],u.instrument&&p("created",n),d!==e&&(t(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),n instanceof L||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){var r=!1;try{e((function(e){r||(r=!0,g(t,e))}),(function(e){r||(r=!0,_(t,e))}))}catch(e){_(t,e)}}(n,e))}var R=L;function N(t,e,r){this._superConstructor(t,e,!1,r)}L.cast=O,L.all=A,L.race=I,L.resolve=O,L.reject=T,L.prototype={constructor:L,_guidKey:D,_onError:function(t){var e=this;u.after((function(){e._onError&&u.trigger("error",t,e._label)}))},then:function(t,e,r){var n=this,o=n._state;if(1===o&&!t||2===o&&!e)return u.instrument&&p("chained",n,n),n;n._onError=null;var i=new n.constructor(d,r),a=n._result;if(u.instrument&&p("chained",n,i),o){var s=arguments[o-1];u.async((function(){x(o,i,s,a)}))}else b(n,i,t,e);return i},catch:function(t,e){return this.then(void 0,t,e)},finally:function(t,e){var r=this.constructor;return this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))}),e)}},N.prototype=i(P.prototype),N.prototype._superConstructor=P,N.prototype._makeResult=C,N.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var W=function(t,e){return new N(R,t,e).promise};var B,F=function(t,e){return R.all(t,e)},z=0;var U=function(t,e){rt[z]=t,rt[z+1]=e,2===(z+=2)&&$()},H="undefined"!=typeof window?window:void 0,G=H||{},J=G.MutationObserver||G.WebKitMutationObserver,Q="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function K(){return function(){setTimeout(nt,1)}}var $,q,V,X,Z,tt,et,rt=new Array(1e3);function nt(){for(var t=0;t<z;t+=2){(0,rt[t])(rt[t+1]),rt[t]=void 0,rt[t+1]=void 0}z=0}Q?(tt=process.nextTick,et=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/),Array.isArray(et)&&"0"===et[1]&&"10"===et[2]&&(tt=setImmediate),$=function(){tt(nt)}):J?(V=0,X=new J(nt),Z=document.createTextNode(""),X.observe(Z,{characterData:!0}),$=function(){Z.data=V=++V%2}):Y?((q=new MessageChannel).port1.onmessage=nt,$=function(){q.port2.postMessage(0)}):$=void 0===H?function(){try{var t=r(Object(function(){var t=new Error("Cannot find module 'vertx'");throw t.code="MODULE_NOT_FOUND",t}()));return B=t.runOnLoop||t.runOnContext,function(){B(nt)}}catch(t){return K()}}():K();var ot=function(t){var e={};return e.promise=new R((function(t,r){e.resolve=t,e.reject=r}),t),e};var it=function(e,r,n){return R.all(e,n).then((function(e){if(!t(r))throw new TypeError("You must pass a function as filter's second argument.");for(var o=e.length,i=new Array(o),a=0;a<o;a++)i[a]=r(e[a]);return R.all(i,n).then((function(t){for(var r=new Array(o),n=0,i=0;i<o;i++)t[i]&&(r[n]=e[i],n++);return r.length=n,r}))}))};function at(t,e,r){this._superConstructor(t,e,!0,r)}var st=at;function ct(t,e,r){this._superConstructor(t,e,!1,r)}at.prototype=i(P.prototype),at.prototype._superConstructor=P,at.prototype._init=function(){this._result={}},at.prototype._validateInput=function(t){return t&&"object"==typeof t},at.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},at.prototype._enumerate=function(){var t=this,e=t.promise,r=t._input,n=[];for(var o in r)e._state===h&&Object.prototype.hasOwnProperty.call(r,o)&&n.push({position:o,entry:r[o]});var i,a=n.length;t._remaining=a;for(var s=0;e._state===h&&s<a;s++)i=n[s],t._eachEntry(i.entry,i.position)},ct.prototype=i(st.prototype),ct.prototype._superConstructor=P,ct.prototype._makeResult=C,ct.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var ut=function(t,e){return new ct(R,t,e).promise};var lt=function(t,e){return new st(R,t,e).promise};var ft=function(e,r,n){return R.all(e,n).then((function(e){if(!t(r))throw new TypeError("You must pass a function as map's second argument.");for(var o=e.length,i=new Array(o),a=0;a<o;a++)i[a]=r(e[a]);return R.all(i,n)}))};function pt(){this.value=void 0}var dt=new pt,ht=new pt;function vt(t,e,r){try{t.apply(e,r)}catch(t){return dt.value=t,dt}}function yt(t,e){return{then:function(r,n){return t.call(e,r,n)}}}var gt=function(t,r){var n=function(){for(var n,o=arguments.length,i=new Array(o+1),a=!1,s=0;s<o;++s){if(n=arguments[s],!a){if((a=wt(n))===ht){var c=new R(d);return _(c,ht.value),c}a&&!0!==a&&(n=yt(a,n))}i[s]=n}var u=new R(d);return i[o]=function(t,n){t?_(u,t):void 0===r?g(u,n):!0===r?g(u,function(t){for(var e=t.length,r=new Array(e-1),n=1;n<e;n++)r[n-1]=t[n];return r}(arguments)):e(r)?g(u,function(t,e){for(var r,n={},o=t.length,i=new Array(o),a=0;a<o;a++)i[a]=t[a];for(r=0;r<e.length;r++)n[e[r]]=i[r+1];return n}(arguments,r)):g(u,n)},a?function(t,e,r,n){return R.all(e).then((function(e){var o=vt(r,n,e);return o===dt&&_(t,o.value),t}))}(u,i,t,this):function(t,e,r,n){var o=vt(r,n,e);o===dt&&_(t,o.value);return t}(u,i,t,this)};return n.__proto__=t,n};function wt(t){return!(!t||"object"!=typeof t)&&(t.constructor===R||function(t){try{return t.then}catch(t){return dt.value=t,dt}}(t))}if("object"==typeof self)self;else{if("object"!=typeof r.g)throw new Error("no global: `self` or `global` found");r.g}var mt=function(t,e){return R.race(t,e)};var _t=function(t,e){return R.reject(t,e)};var bt=function(t,e){return R.resolve(t,e)};var kt=function(t){throw setTimeout((function(){throw t})),t};u.async=U,u.after=function(t){setTimeout(t,0)};function Et(){u.on.apply(u,arguments)}if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var jt=window.__PROMISE_INSTRUMENTATION__;for(var xt in l("instrument",!0),jt)jt.hasOwnProperty(xt)&&Et(xt,jt[xt])}var Ct={race:mt,Promise:R,allSettled:W,hash:lt,hashSettled:ut,denodeify:gt,on:Et,off:function(){u.off.apply(u,arguments)},map:ft,filter:it,resolve:bt,reject:_t,all:F,rethrow:kt,defer:ot,EventTarget:c,configure:l,async:function(t,e){u.async(t,e)}};return Ct}(),e.b=s}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var n=r(640),o=r(224),i=r(780),a=r(403).b,s=r(743).Q,c=r(662).gt,u=r(662)._e,l=r(257).H,f=r(551);window._walkmeInternals=window._walkmeInternals||{};var p=new(0,n.default)({Promise:a.Promise,document});window._walkmeInternals.wmloader=p;var d,h=new(0,n.ActivationManager)({wmLoader:p});function v(){return d}window._walkmeInternals.plugins=h,o(window._walkmeInternals);var y=window._walkmeInternals.ctx;y.register("PromiseManager").asInstance(a),y.register("Promise").asCtor(a.Promise).asProto(),d=new l(window._walkmeInternals,s,a);var g=wmjQuery({}),w=new c(g,a),m=new u(g);window._walkmeInternals.events={listener:m,trigger:w,_eventsBase:g},d.ctx.register("EventsTrigger").asInstance(w),d.ctx.register("EventsListener").asInstance(m),d.ctx.register("PrelibLogger").asInstance(i);var _,b,k=((b=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet)&&(_=b.getSettingsFile()),_||(_={}),_);a.resolve().then((function(){return f(__wmPrelibConfig,v,p)})).catch((function(t){i.write("cannot load plugins"),i.write(t)})).then((function(){return i.write("starting plugins"),d.start(k)})).then((function(){i.write("plugins started")})).catch((function(t){i.write("cannot start plugins"),i.write(t)}))})();
})();

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-accessibility@2.11.0@prelib",{name:"wm-plugin-accessibility",version:"2.11.0",toolbelt:"1.4.1",packageDate:"2025-02-26T12:44:00.013Z",entry:"prelib"},function(e){var t;return function(){var e={1142:function(e,t,n){e.exports=n(5883)},4335:function(e,t,n){var i=n(4884).Iy,a=n(163);function r(){var e=this;e.run=s;var t,n,r;function o(){t=i().get("EventsListener"),n=i().get("PrelibLogger"),r=i().get("EventHandlerBindingManager")}function s(){return a.overrideAddTabIndexIfNeeded(),t.once("BeforeWalkmeReady",l),t.once("removeWalkMe",r.unbindAll),null}function l(){i().get("WmAccessibilityInitializer").init()}o()}t.y=r},4115:function(e,t,n){var i=n(4884).Iy;i().register("AccessibilityConsts").asCtor(a).dependencies("Consts");function a(e){var t=this,n=e.EVENTS,i=n.SmartTips,a=n.Launchers,r=n.Surveys,o=n.Walkthrus;t.KEY_CODES={TAB:9,ENTER:13},t.ELEMENTS_SELECTORS={SMART_TIP:{tooltip:".walkme-tooltip-outer-div"},BALLOON:{stepCounter:".walkme-custom-balloon-subtext"},SHOUTOUT:{container:".wm-shoutout"}},t.ELEMENT_TYPES_PREFIX={smartTipIcon:"walkme-icon-position-smartTip-id-",smartTipTooltip:"walkme-tooltip-smarttip-",survey:"walkme-survey-id-",shoutout:"wm-shoutout-",launcher:"walkme-launcher-id-"},t.FOCUSABLE_SELECTORS={SURVEY:{QUESTION_NUMBER:".walkme-survey-question-count",BUTTON:".walkme-custom-balloon-button",CLOSE_LINK:".walkme-custom-balloon-close-button"}},t.PARTIAL_SELECTORS={SURVEY:{TITLE:"walkme-survey-title",QUESTION:"walkme-survey-question",QUESTION_TITLE:"walkme-survey-question-title",QUESTION_SUB_TITLE:"walkme-survey-question-sub-title",QUESTION_ANSWERS:"walkme-survey-answer"}},t.EVENTS={SURVEY:{SurveyBalloonDisplayed:r.SurveyBalloonDisplayed,SurveyQuestionCountSet:r.SurveyQuestionCountSet,SurveyClosed:r.SurveyClosed,RatingCommentGenerated:r.RatingCommentGenerated},MENU:{MenuBuilt:n.WidgetMenu.MenuBuilt,AfterMenuClose:"AfterMenuClose",MenuCloseButtonClick:"MenuCloseButtonClick"},BALLOON:{BeforeBalloonRedraw:o.BeforeBalloonRedraw,BalloonShown:n.BalloonShown,DestroyStepBalloon:o.DestroyStepBalloon,BalloonCreated:n.BalloonCreated,BalloonStartShow:n.BalloonStartShow,FirstStepNotAvailable:n.FirstStepNotAvailable,FirstStepNotAvailableBalloonClosed:n.FirstStepNotAvailableBalloonClosed},WALKTHRU:{NewStepShown:o.StepShown},FLOW:{UIFlowStageShown:n.Flows.UIFlowStageShown},RESOURCE:{LightBoxDivCreated:n.LightBoxDivCreated,LightBoxDivCentered:n.LightBoxDivCentered,ContentRemoved:n.ContentRemoved,ActivatingContent:n.Contents.ActivatingContent},SHOUTOUT:{ShoutoutDisplayed:"show-end",ShoutOutClosed:n.ShoutOutClosed},LAUNCHER:{LauncherIsShown:a.LauncherIsShown,DisplayLauncher:a.DisplayLauncher,HideLauncher:a.HideLauncher,LauncherDestroyed:"LauncherDestroyed"},SMART_TIP:{SmartTipElementShown:i.SmartTipElementShown,SmartTipElementRemoved:i.SmartTipElementRemoved,SmartTipIconShown:i.SmartTipIconShown,SmartTipIconDestroyed:i.SmartTipIconDestroyed,SmartTipTooltipShown:i.TooltipShown,SmartTipTooltipDestroyed:i.SmartTipTooltipDestroyed},SHUTTLE:{ActivatingShuttle:n.Shuttles.ActivatingShuttle},LIVE_CHAT:{LiveChatClicked:n.LiveChat.LiveChatClicked}},t.FEATURES={DisableSmartTipsAccessibility:"disableSmartTipsAccessibility",RaiseFocusEvent:"raiseFocusEvent",AutoFocusRing:"autoFocusRing"},t.DEFAULT_TEXT_KEY={Close:"Close",ShoutOut:"ShoutOut",StepBalloon:"StepBalloon",QuestionInfoText:"QuestionInfoText",LastInputValid:"LastInputValid",EndOfPage:"EndOfPage",BeginningOfPage:"BeginningOfPage",GuidanceAvailable:"GuidanceAvailable",PreviousFieldInvalid:"PreviousFieldInvalid",PreviousFieldValid:"PreviousFieldValid",WalkMeThroughLauncher:"WalkMeThroughLauncher",ShowMeHowLauncher:"ShowMeHowLauncher",InfoLauncher:"InfoLauncher",VLauncher:"VLauncher",QuestionLauncher:"QuestionLauncher",ErrorLauncher:"ErrorLauncher",ArrowLauncher:"ArrowLauncher",MandatoryNoneLauncher:"MandatoryNoneLauncher",MandatoryActionLauncher:"MandatoryActionLauncher",RoundQuestionMarkLauncher:"RoundQuestionMarkLauncher",OpenInNewTab:"OpenInNewTab",UntitledIframe:"UntitledIframe"},t.TEXTS={Close:"close",ShoutOut:"Popup",StepBalloon:"Guidance balloon",QuestionInfoText:"Question {0} of {1}",LastInputValid:"Your last input is valid",EndOfPage:"end of page",BeginningOfPage:"beginning of page",GuidanceAvailable:"Guidance available for this field, click tab to explore",PreviousFieldInvalid:"Please return to field to resolve",PreviousFieldValid:"Previous field is valid",WalkMeThroughLauncher:"Walk Me Through",ShowMeHowLauncher:"Show Me How",InfoLauncher:"Info",VLauncher:"Check",QuestionLauncher:"Help",ErrorLauncher:"Warning",ArrowLauncher:"Go",MandatoryNoneLauncher:"Mandatory",MandatoryActionLauncher:"More details available",RoundQuestionMarkLauncher:"Help",OpenInNewTab:"open in new tab",UntitledIframe:"untitled"},t.SETTINGS_TRANSLATIONS_TEXTS_KEYS={Close:"close"},t.DEPLOYABLE_TYPES={WT:"WT",SWT:"SWT",resource:"resource",shoutout:"shoutout",survey:"survey",menu:"menu",launcher:"launcher",smartTipIcon:"smartTipIcon",smartTipTooltip:"smartTipTooltip"},t.DIRECTIONS={back:-1,next:1},t.DUMMY_ELEMENT_ID_PREFIX="wm-dummy-index-element-",t.FOCUS_TRACKING_ELEMENTS_TYPES={step:"step",popup:"popup",resource:"resource",shoutout:"shoutout",survey:"survey",menu:"menu"}}},1503:function(e,t,n){var i=n(4884).Iy;i().register("FocusEventDispatcher").asCtor(a).dependencies("FeaturesManager, AccessibilityConsts");function a(e,t){var n=this;n.dispatch=i;function i(n){if(e.isFeatureEnabled(t.FEATURES.RaiseFocusEvent)&&FocusEvent)try{var i=new FocusEvent("focus",{relatedElement:n});n.dispatchEvent(i)}catch(a){}}}},5119:function(e,t,n){var i=n(4884).Iy;i().register("EventHandlerBindingManager").asCtor(a).dependencies("EventsListener");function a(e){var t=this;t.bind=a,t.unbindAll=l,t.unbindSpecificByElement=c,t.unbindSpecificByElementSelector=u;var n;function i(){n={}}function a(t,n,i){i?r(i,t,n):e.on(t,n)}function r(e,t,i){var a=n[t];if(a)for(var r=0;r<a.length;r++){var l=a[r];if(o(l,e,i))return}s(e,t,i),e.on(t,i)}function o(e,t,n){return e.element.is(t)&&e.handler===n}function s(e,t,i){n[t]||(n[t]=[]),n[t].push({element:e,handler:i})}function l(){for(var e in n)for(var t=n[e],i=0;i<t.length;i++){var a=t[i];a.element.off(e,a.handler)}n={}}function u(e,t,n){d(e,t,n)}function c(e,t,n){d(e,t,n)}function d(e,t,i){var a,r=n[t];if(!r)return;for(var s=0;s<r.length;s++){var l=r[s];if(o(l,e,i)){a=s;break}}if(void 0===a)return;var l=r[a];l.element.off(t,l.handler),r.splice(a,1)}i()}},8396:function(e,t,n){var i=n(4884).Iy;i().register("DummyTabOrganizer").asCtor(a).dependencies("DefaultTextGetter, Positions, EventHandlerBindingManager, AccessibilityUtils, AccessibilityConsts, HostData, wmjQuery,ElementEmbedderFactory, Consts, DomManager, JQueryElementFinder");function a(e,t,n,i,a,r,o,s,l,u,c){var d=this;d.createDummyElement=b,d.showDummy=S,d.hideDummy=w,d.removeDummy=I,d.focusNearDummy=C,d.isDummyTabOrganizer=k;var m,f=a.DUMMY_ELEMENT_ID_PREFIX;function v(){m=r.isIEBrowser()}function b(e,t,i,a,r,u){var c=E(e,t),d=o("#"+c);d.length||(d=y(c),u.dummyElement&&d.attr("role",u.dummyElement)),d.css("display",r?r:"block");var f=s.get(a,!0,!0);return f.embed(d,l.POSITION_PERIMETER_TYPE.Inside,i,void 0,{isInvisible:!0}).then(function(){var e=f.getElement();return d=e.getOriginElement(),n.bind("focus",T,d),m&&n.bind("focusout",h,d),d})}function y(e){return u.parseElementAsJquery('<div id="'+e+'" class="walkme-to-destroy" tabindex="0" style="width: 1px;position: absolute;left: -10000px;"></div>')}function E(e,t){return f+e+"-"+t}function p(e,t){return"div#"+E(e,t)}function T(e){var t=o(this);if(m&&n.unbindSpecificByElement(t,"focus",T),e.useOriginalFocus)return;var i=t.attr("id"),a=i.substring(f.length);if(!a)return;var r=a.split("-"),s=r[0],l=r[1],u=c.findElementsByjQueryComplexSelector("."+g(s)+l),d=u.is(":focusable")?u:o(u.find(":tabbable")[0]);if(!d.length)return;d.focus(),e.preventDefault(),e.stopPropagation()}function g(e){return a.ELEMENT_TYPES_PREFIX[e]}function h(){n.bind("focus",T,o(this))}function S(e,t){A(e,t,"show")}function w(e,t){A(e,t,"hide")}function I(e,t){var i=p(e,t);n.unbindSpecificByElementSelector(i,"focus",T),m&&n.unbindSpecificByElementSelector(i,"focusout",h),A(e,t,"remove")}function A(e,t,n){var i=c.findElementsByjQueryComplexSelector(p(e,t));i[n]()}function C(t,n,r,s){var l=c.findElementsByjQueryComplexSelector(p(t,n)),u=s.index(l),d=u+r,m=d===-1||d===s.length;m&&(d=u,i.announce(e.getValue(0===d?a.DEFAULT_TEXT_KEY.BeginningOfPage:a.DEFAULT_TEXT_KEY.EndOfPage)));var f=s[d],v=o.Event("focus",{useOriginalFocus:m});o(f).trigger(v)}function k(e,t,n){return e.is(p(t,n))}v()}},2533:function(e,t,n){var i=n(4884).Iy;i().register("FocusTracker").asCtor(a).dependencies("ElementsGetter, AccessibilityConsts, EventsListener, WmAccessibilityCommonUtils, wmjQuery, AccessibilityLogger,SiteConfigManager");function a(e,t,n,i,a,r,o){var s=this;s.addToStack=d,s.addToBottomOfStack=m,s.focus=f;var l=[],u=t.FOCUS_TRACKING_ELEMENTS_TYPES,c=[u.step,u.popup,u.survey];function d(e,t){var n=l[l.length-1];if(n&&a.inArray(n.originType,c)!==-1)if(t===u.step)l.pop();else if(t===u.popup||t===u.survey)return;r.write("Add focus tracking for originType "+t),l.push({element:e,originType:t})}function m(e,t,n){y()||(l[0].element=n),r.write("Add focus tracking at bottom of stack for originType "+t),l.unshift({element:e,originType:t})}function f(){for(r.write("Start search for element to focus to");!y();){var e=l.pop(),t=a(e.element);if(i.isElementOnScreen(t)){var o=t;if(!t.is(":focusable")){if(r.write("Element to focus to not focusable"),t.is("#walkme-player")){r.write("Element to focus to is widget player"),n.once("PlayerShow",function(){b(t,e.originType)});break}if(t.is("body")){if(r.write("Element to focus to is body"),!y()){r.write("Body is not the last element to focus to in stack");continue}o=v()}else{r.write("Check if element to focus to has focusable children");var s=t.find(":focusable");o=s.length?a(s[0]):v()}}b(o,e.originType);break}r.write("Element to focus to not on screen")}}function v(){r.write("Find first tabbable element to focus to");var t=o.get().Custom.defaultFirstElementForFocus;if(t)for(var n=0;n<t.length;n++){var i=a(t[n])[0];if(i)return i}var s=e.getAllTabbablesOnPageOrdered();return a(s[0])}function b(e,t){t===u.step&&(l=[]),r.write("Element to focus to found for originType "+t),e&&e.focus()}function y(){return 0===l.length}}},1464:function(e,t,n){var i=n(4884).Iy;i().register("BallonCreatedAccessibilityHandler").asCtor(a).dependencies("WmAccessibilityCommonUtils, CommonUtils, Lib, FeaturesManager, StepDataGetter,AriaAttributesSetter, DialogTextSetter, DialogTabbaleElementsPreparer, DesignTemplatePlaceholdersRolesSetter,DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter, EventsListener, FocusEventDispatcher, wmjQuery, DomManager");function a(e,t,n,i,a,r,o,s,l,u,c,d,m,f,v,b,y,E){var p=this;p.init=M;var T,g,h,S,w=d.KEY_CODES.TAB,I=!1,A=!0,C={},k=!1,L=!1,F=!1,O="walkme-custom-balloon-title",_="walkme-custom-balloon-content",B="wt-cannot-be-played",N=".walkme-custom-powered-by",D={ACTION_BUTTON:".walkme-custom-balloon-button",CLOSE_LINK:".walkme-custom-balloon-close-button"},P=d.FOCUS_TRACKING_ELEMENTS_TYPES,x=d.ELEMENTS_SELECTORS,R="walkme-custom-balloon-outer-div";function M(e,t){var n=d.EVENTS,a=n.BALLOON;S=i.isFeatureEnabled("noFocusGrabOnRedraw"),S&&(_walkmeInternals.bind(a.BeforeBalloonRedraw,H),_walkmeInternals.bind(a.BalloonShown,W)),_walkmeInternals.bind(a.BalloonCreated,K),_walkmeInternals.bind(a.BalloonStartShow,V),_walkmeInternals.bind(n.WALKTHRU.NewStepShown,U),_walkmeInternals.bind(n.FLOW.UIFlowStageShown,Q),_walkmeInternals.bind(a.FirstStepNotAvailable,j),_walkmeInternals.bind(a.FirstStepNotAvailableBalloonClosed,m.focus),T=e,g=t,k=i.isFeatureEnabled("noAccessibleCapture"),F=i.isFeatureEnabled("skipPoweredByLink")}function U(e,t){Y(t.Id)}function Q(e,t){Y(t.uiElementId)}function H(e){activeElement=f.getActiveElement(),A=activeElement.className.indexOf("walkme")>=0}function W(e){A=!0}function Y(t){if(void 0!=t&&C[t]){var n=C[t],i=n.elementForFocus,a=n.focusTrackingDetails;e.isElementOnScreen(x.SHOUTOUT.container)?m.addToBottomOfStack(a.elementToKeep,a.balloonType,i):(i.focus(),m.addToStack(a.elementToKeep,a.balloonType))}}function j(){Y(B)}function V(e,t){var n=a.getActiveStepData();if(t&&n&&n.id){var i=n.id;h&&h!=i&&(C[h]=void 0),h=i;var r=C[i];!r||r.elementForFocus.focus()}}function K(t,n){var i=n.Element,r=a.getActiveStepData();if(r){var o=X(r)||n.PageElement,s=r.isPopup,u=z(i,T.step||"dialog",g.step,r.ariaLabel,o,s,r.id,r.isFocusLockEnabled);if(r.spotlight&&G(s,o,u,r),r.isFocusGrabEnabled&&(S?A&&(A=!1,G(s,o,u,r)):G(s,o,u,r)),s&&e.shouldAddAriaHidden(r.spotlight,r.deployableType,r.id)){var m=i.attr("id");c.hideAllButPopup(i,m,d.EVENTS.BALLOON.DestroyStepBalloon)}e.addTitlesToFrames(i),l.setDefaultRoleForActionPlaceholders(i)}else{var f=y(".walkme-custom-first-step-not-available-text",i);f.length&&q(f,i)}}function G(e,t,n,i){C[i.id]={elementForFocus:n,focusTrackingDetails:te(e,t)}}function X(e){return!k&&e.identifySettings&&!e.identifySettings.isDefault&&(e.identifySettings.IsJquerySelector&&e.identifySettings.JquerySelector||e.identifySettings.ElementDescription&&Object.keys(e.identifySettings.ElementDescription))&&n.findElement(e.identifySettings)}function q(n,i){var a={};y.each(n[0].attributes,function(e,t){a[t.nodeName]=t.nodeValue});var o=a.style;delete a.style,n.replaceWith(function(){var e=y("<div></div>",a).append(y(this).contents());return e.attr("id",B),E.setAttribute(e,"style",o),e}),r.setAriaLabelledBy(i,B),t.setRole(i,T.step||"dialog");var l=s.prepareTabbableElements(i,D,!0);e.handleFocusElements(i,l,D.ACTION_BUTTON,!0,void 0);var u=!0;C[B]={elementForFocus:l[0],focusTrackingDetails:te(u)}}function z(n,a,l,c,m,f,v,b){for(var E,p=0;p<n.length;p++){var T=y(n[p]);T.hasClass(R)&&(E=T)}if(E){ae(E,D.CLOSE_LINK),re(E);var g=s.prepareTabbableElements(E,D,!0);i.isFeatureEnabled("addTabbableTextAccessibility")&&(D.BALLOON_TITLE=".walkme-custom-balloon-title",D.BALLOON_CONTENT=".walkme-custom-balloon-content"),g.length||(g=E);var h=(i.isFeatureEnabled("balloonsTabInOrder")||b)&&!f&&m&&ie(m,g);L=b,e.handleFocusElements(E,g,D.CLOSE_LINK,b,h?m:void 0);var S=y("."+O);return t.setRole(E,a),r.setAriaLabel(E,c||l||u.getValue(d.DEFAULT_TEXT_KEY.StepBalloon)),o.setText(E,v,c?void 0:O,_),t.setRole(S,"heading"),r.setAriaLevel(S,2),i.isFeatureEnabled("noContainerTabIndex")||E.attr("tabIndex",0),ne(E,v),ee(g)}}function J(e,t){return(""+t.className).indexOf(e)>-1}function Z(e){return J("walkme-action-cancel",e)||J("walkme-action-back",e)}function $(e){return J("walkme-action-start",e)||J("walkme-action-next",e)||J("walkme-action-done",e)}function ee(e){var t=e[0];if(i.isFeatureEnabled("focusFirstOnNextAction")&&Z(t))for(var n=1;n<e.length;n++)if($(e[n]))return e[n];return t}function te(e,t){var n={};return e?(n.elementToKeep=f.findLastFocusedElement(),n.balloonType=P.popup):(n.elementToKeep=t,n.balloonType=P.step),n}function ne(e,t){var n="wt-step-counter-"+t,i=y(x.BALLOON.stepCounter,e);i.length&&(i.attr("id",n),r.appendAriaDescribedBy(e,n))}function ie(t,n){var i=y(n[n.length-1]),a=y(n[0]),r=e.getFocusablesInsideElement(t),o=0!=r.length;return o&&oe(r,i,a),o}function ae(n,a){i.isFeatureEnabled("focusXButtonFirst")||e.moveElementToEnd(n,a);var r=y(a,n);t.setRole(r,"button"),e.setXButtonLabel(r)}function re(t){var n=y(N,t);e.addTabIndex(n,F?-1:0)}function oe(t,n,i){y("body").keydown(a),i.on("keydown",o),n.on("keydown",s),v.on("destroyStepBalloon",l),I=!1;function a(t){var n=f.getAllTabbablesOnPageOrdered();if(t.which===w){if(t.target.id.indexOf("walkme-player")>=0&&t.shiftKey){var i=e.findElementAboveBalloon(n);se(i,t)}var a=n[e.getKeyByValue(n,t.target)+1];e.isWMBalloon(t.target)||!e.isWMBalloon(a)||t.shiftKey||(e.findWidgetinElementList(n)?se(e.findWidgetinElementList(n),t):se(n[0],t),I=!1),e.isWMElement(t.target)||r(t,n)}}function r(a,r){var o=y(f.getActiveElement()),s=t.index(o),l=1===t.length?t[0]:t.last()[0],u=r[e.getKeyByValue(r,l)+1]==o[0];if(t==o||s!==-1||u){var c,d=L||!I;if(s===t.length-1&&!a.shiftKey&&d)c=i;else if(a.shiftKey){var m=e.findElementInList(C);m=void 0!==m?m.focusTrackingDetails.elementToKeep[0]:t;var v=m.contains(a.target),b=t[0]===a.target;t.length>1&&v&&(d=!1),L&&b&&(d=!0),d&&(c=n)}c&&se(c,a),I=!1}}function o(n){var i=f.getAllTabbablesOnPageOrdered(),a=e.findCorrectElementToTabTo(i,t,C);n.which===w&&n.shiftKey&&(se(a,n),I=!0)}function s(n){var i=f.getAllTabbablesOnPageOrdered(),a=e.findCorrectElementToTabTo(i,t,C),r=e.findCorrectElementToTabTo(i,t,C,1);n.which!==w||n.shiftKey||(se(L?a:r,n),I=!0)}function l(e,t){var r=t.balloonDiv;if(!r.is(".walkme-custom-simple-step"))return;y("body").off("keydown",a),i.off("keydown",o),n.off("keydown",s),v.off("destroyStepBalloon",l)}}function se(e,t){e.focus(),b.dispatch(e[0]),t.preventDefault(),t.stopPropagation()}}},4779:function(e,t,n){var i=n(4884).Iy;i().register("BBCodeAccessibilityHandler").asCtor(a).dependencies("AccessibilityConsts");function a(e){var t,n=this;n.init=function(e){i(),t=e};function i(){_walkmeInternals.bind("RegisterBBCodeDeployableClick",a)}function a(e,t){var n=t.element;r(n),o(n)}function r(t){t.keydown(function(n){n.keyCode===e.KEY_CODES.ENTER&&(t.click(),n.preventDefault())})}function o(e){var t=e[0].nodeName.toLowerCase();if(/a/.test(t)){var n=e.attr("tabindex");void 0!=n&&null!=n||e.attr("tabindex",0)}}}},6161:function(e,t,n){var i=n(4884).Iy;i().register("BizFlowAccessibilityHandler").asCtor(a).dependencies("FocusTracker,Consts");function a(e,t){var n=this;n.init=r;var i,a;function r(e,t){o(),i=e,a=t}function o(){_walkmeInternals.bind("FlowCompleted",s),_walkmeInternals.bind("FlowStopped",s)}function s(t,n){l(n)||e.focus()}function l(e){return e.flowInstanceParams&&e.flowInstanceParams.type===t.BACKGROUND_SWT_INSTANCE_PARAMS.type}}},334:function(e,t,n){var i=n(4884).Iy;i().register("DebuggerAccessibilityHandler").asCtor(a).dependencies("WmAccessibilityCommonUtils, wmjQuery, AriaAttributesSetter, FocusBehaviorSetter");function a(e,t,n,i){var a=this;a.init=r;function r(){_walkmeInternals.on("DebuggerAppendedToBody",o),_walkmeInternals.on("DebuggerSizeChange",u),_walkmeInternals.on("DebuggerSearch",s),_walkmeInternals.on("DebuggerFocusUpdate",c),l()}function o(){l()}function s(){var e=t(".wmd-deployable-container");e.length>0&&(l(e),t("#wmd-clear-search-btn").on("click",function(){t(".wmd-search-input:visible").focus()}))}function l(e){var n=e||t("#walkme-debugger");if(!n)return;var a=n.find(":tabbable");i.setFocusBehavior(a)}function u(e,n){var i="maximize"===n.newState?"minimize":"maximize",a=t("#wmd-"+i+"-btn");a.focus(),a.addClass("walkme-accessible-focus"),l()}function c(e,n){var i=t(n.selector);i.length>0&&l(i)}}},4793:function(e,t,n){var i=n(4884).Iy;i().register("LauncherAccessibilityHandler").asCtor(a).dependencies("CommonUtils, LauncherDefaultIcon, LauncherTextSetter, LauncherTabOrderHandler, AccessibilityConsts, ElementInIframeIndicator, FeaturesManager, Consts");function a(e,t,n,i,a,r,o,s){var l=this;l.init=c;var u;function c(e){d(),u=e}function d(){_walkmeInternals.bind(a.EVENTS.LAUNCHER.LauncherIsShown,m),i.bindEvents()}function m(e,a,o){var s=o.launcherDiv,l=o.launcherData,c=l.Settings.action.actionType,d=l.Settings.imageObject||t;f(s,c),n.setText(s,c,d);var m=r.isInIframe(o.element)?i.handleElementFocusByDom:i.handleElementFocusByTabOrder;m(l.Id,l.Position,o.element,s,u)}function f(t,n){var i="none"==n?"img":"button";e.setRole(t,u.launcher||i);var a=o.isFeatureEnabled(s.FEATURES.NoNonePresentation)?"presentation":"none presentation";t.find("*").attr("role",a)}}},7973:function(e,t,n){var i=n(4884).Iy;i().register("LauncherTabOrderHandler").asCtor(a).dependencies("EventHandlerBindingManager, AccessibilityConsts, IdGetter, WmAccessibilityCommonUtils, DummyTabOrganizer, wmjQuery, ElementsGetter");function a(e,t,n,i,a,r,o){var s=this;s.bindEvents=f,s.handleElementFocusByTabOrder=v,s.handleElementFocusByDom=b;var l=t.KEY_CODES.TAB,u=t.ELEMENT_TYPES_PREFIX.launcher,c=t.EVENTS.LAUNCHER,d=t.DEPLOYABLE_TYPES.launcher,m=t.DIRECTIONS;function f(){_walkmeInternals.bind(c.DisplayLauncher,p),_walkmeInternals.bind(c.HideLauncher,T),_walkmeInternals.bind(c.LauncherDestroyed,g)}function v(t,n,i,r,o){y(r,-1),a.createDummyElement(d,t,n,i,r.css("display"),o),e.bind("keydown",E,r)}function b(e,t,n,i){y(i,0)}function y(e,t){var n=e.parent(".walkme-launcher-container");n.removeAttr("tabindex"),n.off("keydown"),i.addTabIndex(e,t)}function E(e){var t;if(e.which===l&&(t=e.shiftKey?m.back:m.next),!t)return;var i=n.getIdByElement(r(this),u);a.focusNearDummy(d,i,t,o.getAllTabbablesOnPageOrdered()),e.preventDefault(),e.stopPropagation()}function p(e,t){a.showDummy(d,t.launcher.Id)}function T(e,t){a.hideDummy(d,t.launcher.Id)}function g(t,n){var i=n.launcher.Id;e.unbindSpecificByElementSelector("."+u+i,"keydown",E),a.removeDummy(d,i)}}},1111:function(e,t,n){var i=n(4884).Iy;i().register("LauncherTextSetter").asCtor(a).dependencies("WmAccessibilityCommonUtils, DefaultTextGetter, AccessibilityConsts");function a(e,t,n){var i=this;i.setText=o;var a=n.DEFAULT_TEXT_KEY,r={"walk-me-through":a.WalkMeThroughLauncher,"show-me-how":a.ShowMeHowLauncher,info:a.InfoLauncher,v:a.VLauncher,question:a.QuestionLauncher,error:a.ErrorLauncher,arrow:a.ArrowLauncher,"mandatory-none":a.MandatoryNoneLauncher,"mandatory-action":a.MandatoryActionLauncher,"round-question-mark":a.RoundQuestionMarkLauncher,california:a.WalkMeThroughLauncher};function o(t,n,i){var a="";switch(i.type){case"shape":var r=i.data.shape;a=s(r,n);break;case"customText":a=i.data.customText;break;case"custom":a=i.data.alt}a=a?a:"Untitled",a=a.replace(/&#39;/g,"'"),a=a.replace(/amp;/g,""),"none"==n&&t.attr("alt",a),e.elementWrapper(t,a),l(t)}function s(e,n){return"mandatory"==e&&(e+="none"==n?"-none":"-action"),t.getValue(r[e])}function l(e){var t=e.parent(".walkme-launcher-container"),n=t.attr("title");if(!n)return;t.removeAttr("title"),e.attr("title",n)}}},3445:function(e,t,n){var i=n(4884).Iy;i().register("LiveChatAccessibilityHandler").asCtor(a).dependencies("FocusTracker, AccessibilityConsts, CommonUtils");function a(e,t,n){var i=this;i.init=a;function a(){r()}function r(){_walkmeInternals.bind(t.EVENTS.LIVE_CHAT.LiveChatClicked,o)}function o(t,i){var a=i.options;n.isValueTrue(a.closeWalkmeOnChatOpen)&&n.isValueTrue(a.openNewWindow)&&e.focus()}}},2827:function(e,t,n){var i=n(4884).Iy;i().register("MenuAccessibilityHandler").asCtor(a).dependencies("CommonUtils, WmAccessibilityCommonUtils, SiteConfigManager, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter");function a(e,t,n,i,a,r,o){var s=this;s.init=u;var l=a.EVENTS.MENU;function u(){c()}function c(){_walkmeInternals.bind(l.MenuBuilt,d),_walkmeInternals.bind(l.MenuCloseButtonClick,r.focus)}function d(e,s){var u=s[0];r.addToStack(o.findLastFocusedElement(),a.FOCUS_TRACKING_ELEMENTS_TYPES.menu);var c="Splash"===n.get().MenuDisplay;t.shouldAddAriaHidden(c,a.DEPLOYABLE_TYPES.menu)&&i.hideAllButPopup(u,"walkme-menu",l.AfterMenuClose)}}},7409:function(e,t,n){var i=n(4884).Iy;i().register("ResourceAccessibilityHandler").asCtor(a).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, DialogTabbaleElementsPreparer, DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter, Consts");function a(e,t,n,i,a,r,o,s,l,u){var c=this;c.init=T;var d,m,f=o.EVENTS.RESOURCE,v="walkme-open-in-new-tab-button",b="walkme-light-box-x-button",y="walkme-content-light-box",E=o.DEFAULT_TEXT_KEY,p={IFRAME:"iframe",NEW_TAB:"#"+v,CLOSE_LINK:"#"+b};function T(e,t){g(),d=e,m=t}function g(){_walkmeInternals.bind(f.LightBoxDivCreated,h),_walkmeInternals.bind(f.LightBoxDivCentered,S),_walkmeInternals.bind(f.ContentRemoved,s.focus),_walkmeInternals.bind(f.ActivatingContent,I)}function h(u,c){var T=c.lightBoxDiv,g=c.content;s.addToStack(l.findLastFocusedElement(),o.FOCUS_TRACKING_ELEMENTS_TYPES.resource),e.moveElementToEnd(T,p.NEW_TAB),e.moveElementToEnd(T,p.CLOSE_LINK);var h=i.prepareTabbableElements(T,p,!1,!0);e.handleFocusElements(T,h,p.CLOSE_LINK,!0),t.setRole(T,d.resource||"dialog"),n.setAriaLabel(T,m.resource||g.Name),w(T,p.CLOSE_LINK,b+"-img",a.getValue(E.Close)),w(T,p.NEW_TAB,v+"-img",a.getValue(E.OpenInNewTab));var S=wmjQuery("iframe",T);S.attr("title",g.Name),e.shouldAddAriaHidden(!0)&&r.hideAllButPopup(T,y,f.ContentRemoved)}function S(e,t){var n=t.lightBoxDiv;n.focus()}function w(e,i,a,r){var o=wmjQuery(i+" > img",e);o.attr("id",a),o.attr("alt",r);var s=wmjQuery(i,e);t.setRole(s,"button"),n.setAriaLabelledBy(s,a),s.removeAttr("title")}function I(e,t){var n=t.content;n.Settings.ContentPlayMode==u.PLAY_MODE.NewTab&&s.focus()}}},2152:function(e,t,n){var i=n(4884).Iy;i().register("ShoutoutAccessibilityHandler").asCtor(a).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, DialogTextSetter, DialogTabbaleElementsPreparer, DesignTemplatePlaceholdersRolesSetter, DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, wmjQuery, FocusTracker, Consts, ElementsGetter, FeaturesManager");function a(e,t,n,i,a,r,o,s,l,u,c,d,m,f){var v=this;v.init=C;var b,y,E=l.DEPLOYABLE_TYPES.shoutout,p=l.EVENTS.SHOUTOUT,T="wm-title",g="wm-template-text",h="wm-shoutout-",S=1,w=["none","destroy"],I=d.SHOUTOUT_CLICK_TYPE,A={ACTION_BUTTON:".wm-blue-btn",CLOSE_LINK:".wm-close-link",CLOSE_BUTTON:".wm-close-button"};function C(e,t){k(),b=e,y=t}function k(){_walkmeInternals.bind(p.ShoutoutDisplayed,L),_walkmeInternals.bind(p.ShoutOutClosed,_)}function L(t,n){if(n&&n._uiComponent&&n._uiComponent.UiComponentId==S){var i=n._uiComponent.Id,a=u("#"+h+i);c.addToStack(m.findLastFocusedElement(),l.FOCUS_TRACKING_ELEMENTS_TYPES.shoutout);var o=u(A.ACTION_BUTTON,a);F(o);var s=u(A.CLOSE_LINK,a);F(s);var d=u(A.CLOSE_BUTTON,a);F(d),e.setXButtonLabel(d);var f=d.length?A.CLOSE_BUTTON:A.CLOSE_LINK;e.addTitlesToFrames(a),r.setDefaultRoleForActionPlaceholders(a),O(n,i,a,f)}}function F(e){t.setRole(e,"button")}function O(r,c,d,m){f.isFeatureEnabled("focusXButtonFirst")||e.moveElementToEnd(d,A.CLOSE_BUTTON);var v=a.prepareTabbableElements(d,A,!0),S=!!r._settings.overlay,w=e.shouldDisableFocusLock(E,c);e.handleFocusElements(d,v,m,S||!w),v[0].focus();var I=u("."+T);t.setRole(d,b.shoutOut||"dialog"),n.setAriaLabel(d,y.shoutOut||o.getValue(l.DEFAULT_TEXT_KEY.ShoutOut)),i.setText(d,c,T,g),t.setRole(I,"heading"),n.setAriaLevel(I,"2"),e.shouldAddAriaHidden(S,E,c)&&s.hideAllButPopup(d,h+c,p.ShoutOutClosed)}function _(e,t){var n=t.clickType;(n===I.XButton||n===I.RemindMeLater||(n===I.Close||n===I.Action)&&B(t.action))&&c.focus()}function B(e){return e&&u.inArray(e.Type,w)!==-1}}},856:function(e,t,n){var i=n(4884).Iy;i().register("ShoutoutVisualDesignAccessibilityHandler").asCtor(a).dependencies("AccessibilityConsts, FocusTracker, ElementsGetter, WmAccessibilityCommonUtils, Consts, EventsListener, FeaturesManager, WmAccessibilityCss, CommonUtils, AriaAttributesSetter");function a(e,t,n,i,a,r,o,s,l,u){var c=this;c.init=E;var d=e.EVENTS.SHOUTOUT,m=e.DEPLOYABLE_TYPES.shoutout,f=a.SHOUTOUT_CLICK_TYPE,v=["none","destroy"],b=1,y="walkme-visual-design-";function E(){p()}function p(){r.on(d.ShoutoutDisplayed,T),r.on(d.ShoutOutClosed,h)}function T(i,a){var r=a&&a.getComponent&&a.getComponent();if(r.UiComponentId===b&&r.VisualDesign){t.addToStack(n.findLastFocusedElement(),e.FOCUS_TRACKING_ELEMENTS_TYPES.shoutout);var o=wmjQuery("#"+y+r.VisualDesign.Id),l=o[0]&&o[0].shadowRoot;if(l){o=wmjQuery(l.firstElementChild);var u=document.createElement("style");u.innerHTML=s.getCss(),l.prepend(u)}g(r,r.Id,o)}}function g(e,t,n){C(n);var a=i.getFocusablesInsideElement(n,!0,!0),r=n.find('[aria-label="close"]');o.isFeatureEnabled("sortSOVisualDesignFocusables")&&l.setRole(n,"dialog"),a.length||(a=n);var s=!!e.VisualDesign.Style.backcover,u=s||!i.shouldDisableFocusLock(m,t),c=n.hasClass("wm-visual-design-full-flex-canvas");o.isFeatureEnabled("sortSOVisualDesignFocusables")?c?(I(n,r),a=i.getFocusablesInsideElement(n,!0,!0)):(w(n),a=i.getFocusablesInsideElement(n,!0,!0)):o.isFeatureEnabled("focusXButtonFirst")&&i.moveElementToStart(n,r),o.isFeatureEnabled("dynamicSOMouseReader")&&c&&A(n),i.handleFocusElements(n,a,"",u),a[0].focus()}function h(e,n){var i=n.clickType;(i===f.XButton||i===f.RemindMeLater||(i===f.Close||i===f.Action)&&S(n.action))&&t.focus()}function S(e){return e&&wmjQuery.inArray(e.type,v)!==-1}function w(e){var t=e.children().get();t=t.sort(function(e,t){var n="IMG"===e.tagName||e.classList.contains("wm-visual-design-shape"),i="IMG"===t.tagName||t.classList.contains("wm-visual-design-shape");if(n&&i)return 0;if(n)return-1;if(i)return 1;return boundingDiff=e.getBoundingClientRect().y-t.getBoundingClientRect().y||e.getBoundingClientRect().x-t.getBoundingClientRect().x,boundingDiff});for(var n=0;n<t.length;n++)"A"===t[n].tagName&&(t[n]=t[n].closest(".wm-visual-design-rich-text")),i.moveElementToEnd(e,t[n])}function I(e,t){if(o.isFeatureEnabled("focusXButtonFirst")){var n=t.closest(".wm-visual-design-flex-container");i.moveElementToStart(e,n),n.css("z-index",2147483647)}}function A(e){var t=e.find(".wm-visual-design-button");t.each(function(e,t){var n=t.getAttribute("aria-label")||t.innerText,i=wmjQuery("#border-"+t.id);if(i){var a=i[0];a.innerText=n,a.style.setProperty("color","transparent","important"),a.style.setProperty("font-size","2em","important")}})}function C(e){var t=e.find(".wm-visual-design-lottie");t.each(function(e,t){var n=t.getAttribute("alt"),i=wmjQuery(t.shadowRoot.firstElementChild);u.setAriaLabel(i,n)})}}},4188:function(e,t,n){var i=n(4884).Iy;i().register("ShuttleAccessibilityHandler").asCtor(a).dependencies("FocusTracker, AccessibilityConsts, CommonUtils, Consts");function a(e,t,n,i){var a=this;a.init=o;var r=i.PLAY_MODE;function o(){s()}function s(){_walkmeInternals.bind(t.EVENTS.SHUTTLE.ActivatingShuttle,l)}function l(t,i){var a=parseInt(n.getSettingsValue(i.shuttle.Settings,"ShuttlePlayMode",r.SameTab));a===r.NewTab&&e.focus()}}},6808:function(e,t,n){var i=n(4884).Iy;i().register("SmartTipElementsGetter").asCtor(a).dependencies("AccessibilityConsts, wmjQuery, IdGetter, SmartTipToElementMapper");function a(e,t,n,i){var a=this;a.findLastFocusedElement=o;var r=e.ELEMENT_TYPES_PREFIX;function o(a){var o=a.parents(e.ELEMENTS_SELECTORS.SMART_TIP.tooltip);if(0!==o.length){var s=n.getIdByElement(o,r.smartTipTooltip),l=t("."+r.smartTipIcon+s);return l.length?l:i.getElementBySmartTipId(s)}}}},9557:function(e,t,n){var i=n(4884).Iy;i().register("SmartTipFocusHandler").asCtor(a).dependencies("wmjQuery, WmAccessibilityCommonUtils, IdGetter, AccessibilityConsts, ElementsGetter, SmartTipIdentifier, FocusEventDispatcher, DummyTabOrganizer, SmartTipToElementMapper, JQueryElementFinder");function a(e,t,n,i,a,r,o,s,l,u){var c=this;c.moveFocus=E;var d=i.ELEMENT_TYPES_PREFIX,m=d.smartTipIcon,f=d.smartTipTooltip,v=i.ELEMENTS_SELECTORS.SMART_TIP.tooltip,b=i.DEPLOYABLE_TYPES,y=i.DIRECTIONS;function E(e,t){var i=a.getAllTabbablesOnPageOrdered();if(t.shiftKey)if(r.isSmartTipIconElement(e))p(b.smartTipIcon,e,y.back,i);else{var s=I(i,e,!0),l=e.parents(v),u=s.parents(v).length>0;0===l.length||u?(e.blur(),s.focus(),u||(o.dispatch(s[0]),T(t.target))):p(b.smartTipTooltip,l,y.back,i)}else{var c=g(e);if(c)h(c)||S(i,c);else{var d;if(e.attr("class")&&(d=n.getIdByElement(e,m)),d)S(i,d);else{var f,E=I(i,e),w=e.parents(v);w.length>0&&(f=L(i,E,w)),f||(E.focus(),0===E.parents(v).length&&o.dispatch(E[0]))}}}}function p(e,t,i,a){var r=n.getIdByElement(t,d[e]),u=l.getElementBySmartTipId(r);s.isDummyTabOrganizer(u,e,r)?s.focusNearDummy(e,r,i,a):(u.focus(),o.dispatch(u[0]))}function T(n){var i=l.getSmartTipDetailsByElement(n);if(i&&i.canHaveConditionalIcon){var a=e("."+m+i.smartTipId);a.length>0&&t.announce(a[0].getAttribute("aria-label")||"")}}function g(e){var t=l.getSmartTipDetailsByElement(e);return t&&t.smartTipId}function h(e){var t=u.findElementsByjQueryComplexSelector("."+m+e);if(t.length>0)return t.focus(),
!0;return!1}function S(e,t){var n=l.getElementBySmartTipId(t);if(!n)return!1;var i=w(e,t);if(i)i.focus();else{var a=I(e,n);n.blur(),a.focus(),o.dispatch(a[0])}return!0}function w(t,n){var i=e("."+f+n);if(!i[0])return;var a=e(i.find(":tabbable")[0]);return a.length?a:void 0}function I(t,n,i){for(var a,r=t.index(n),o=i?k(r,t):C(r,t);!a;){var s=e(t[o]);A(n,s)?a=s:o=i?k(o,t):C(o,t)}return a}function A(e,t){if(r.isSmartTipIconElement(t))return!1;var n=t.parents(v)[0];if(!n)return!0;var i=e.parents(v)[0];return i==n}function C(t,n){if(t<n.length-1)return t+1;var i=e("#walkme-dummy-last-element");return e.inArray(i,n)}function k(e,t){return e>0?e-1:t.length-1}function L(e,t,i){var a=t.parents(v);if(0==a.length){var r=n.getIdByElement(i,f);return t=I(e,l.getElementBySmartTipId(r)),t.focus(),o.dispatch(t[0]),!0}return!1}}},8804:function(e,t,n){var i=n(4884).Iy;i().register("SmartTipToElementMapper").asCtor(a);function a(){var e=this;e.addSmartTipDetails=i,e.getSmartTipDetailsByElement=a,e.addElementForSmartTipId=r,e.getElementBySmartTipId=o;var t=[],n={};function i(e,n,i){t.push({element:n,smartTipId:e,canHaveConditionalIcon:i})}function a(e){for(var n=0;n<t.length;n++)if(t[n].element.is(e))return t[n]}function r(e,t){n[e]=t}function o(e){return n[e]}}},7087:function(e,t,n){var i=n(4884).Iy;i().register("SmartTipAccessibilityHandler").asCtor(a).dependencies("WmAccessibilityCommonUtils, CommonUtils, wmjQuery, TimerManager, SmartTipFocusHandler, BBCodeParser, EventHandlerBindingManager, IdGetter, DummyLastElementAdder, AllowedTabbableElementFinder, Consts, FocusLockChecker, AccessibilityConsts, ElementsGetter, SmartTipExistenceChecker, FocusBehaviorSetter, AriaAttributesSetter, FeaturesManager, DefaultTextGetter, DummyTabOrganizer, ElementInIframeIndicator, SmartTipToElementMapper, DomManager, JQueryElementFinder");function a(e,t,n,i,a,r,o,s,l,u,c,d,m,f,v,b,y,E,p,T,g,h,S,w){var I,A,C=this,k=m.KEY_CODES.TAB,L=m.ELEMENT_TYPES_PREFIX,F=L.smartTipIcon,O=m.EVENTS.SMART_TIP,_=m.DEPLOYABLE_TYPES,B=_.smartTipIcon,N=_.smartTipTooltip,D=m.DEFAULT_TEXT_KEY;C.init=function(e,t){if(E.isFeatureEnabled(m.FEATURES.DisableSmartTipsAccessibility)||!v.doSmartTipsExist())return;P(),I=e,_deployablesAriaLabels=t,A=E.isFeatureEnabled("handleSmartTipsFocusLock")};function P(){_walkmeInternals.bind(O.SmartTipElementShown,Q),_walkmeInternals.bind(O.SmartTipElementRemoved,H),_walkmeInternals.bind(O.SmartTipIconShown,G),_walkmeInternals.bind(O.SmartTipIconDestroyed,q),_walkmeInternals.bind(O.SmartTipTooltipShown,Z),_walkmeInternals.bind(O.SmartTipTooltipDestroyed,$)}function x(e){if(e.which==k){if(!A&&d.isFocusLocked())return;var t=f.getActiveElement(),r=f.getAllTabbablesOnPageOrdered();if(e.shiftKey){if(t==r[0])return}else if(M(t)){if(R(r))return;var o=n.inArray(t,r),s=o>-1?o:void 0,c=u.findNext(s,r);return l.reAdd(),c?(c.focus(),void e.preventDefault()):void n("#walkme-dummy-last-element").trigger("focus",{isAlreadyFocused:!0})}U()&&!R(r)&&l.reAdd();var m=n(t);if(0==m.parents(".walkme-custom-balloon-outer-div, .wm-shoutout").length){i.setWalkmeTimeout(function(){a.moveFocus(m,e)},150);var v=h.getSmartTipDetailsByElement(t);if(v&&v.canHaveConditionalIcon){var b=n.Event("blur",{shouldPreventDefault:!0});m.trigger(b)}e.preventDefault()}}}function R(e){var t=e[e.length-1];return M(t)}function M(e){return e==n("#walkme-dummy-last-element")[0]}function U(){return n("#walkme-dummy-last-element").length}function Q(e,t){var i=t.smartTip;if(!i)return;var a=t.element;if(g.isInIframe(a))return;var r=i.Id;W(i,a),h.addSmartTipDetails(r,a,!i.Info&&(i.Validations.length>0||i.PositiveFeedback));var s=f.getNonWalkmeTabbablesOrdered();if(a[0]!==s[s.length-1]||U()||(l.add(),o.bind("keydown",x,n("#walkme-dummy-last-element"))),a.is(":focusable"))h.addElementForSmartTipId(r,a),o.bind("keydown",x,a),ee(a),Y(i,a);else{var u=i.Settings.Position,c=i.Info.IsWithIcon?B:N,d=w.findElementsByjQueryComplexSelector("."+L[c]+r).css("display");T.createDummyElement(c,r,u,a,d||"none",I).then(function(e){h.addElementForSmartTipId(r,e)})}}function H(e,t){var n=t.smartTip,i=n.Id,a=h.getElementBySmartTipId(i);a&&o.unbindSpecificByElement(a,"keydown",x);var r=n.Info.IsWithIcon?B:N;T.removeDummy(r,i)}function W(e,t){for(var n=K(e),i=t&&t.length&&t[0].getAttribute("aria-describedby")||"",a=0;a<n.length;a++){var r="walkme-tooltip-"+n[a];i+=" "+r}i=i.replace(/^\s+|\s+$/g,""),i&&y.setAriaDescribedBy(t,i),!e.PositiveFeedback&&e.Validations.length>0&&o.bind("blur",V(e.Id),t)}function Y(t,n){if(t.Info){var i=t.Info.IsWithIcon?p.getValue(D.GuidanceAvailable):j(t.Info.TooltipText);o.bind("focus",function(){e.announce(i)},n)}}function j(e){var t,n=E.isFeatureEnabled("addTooltipRoleFirst");return t=_deployablesAriaLabels.smartTipTooltip?n?_deployablesAriaLabels.smartTipTooltip:" "+_deployablesAriaLabels.smartTipTooltip:n?"tooltip":". tooltip",n?t+" "+J(e):J(e)+t}function V(t){return function(){(n(".walkme-custom-highlighter-smarttipid-"+t).length>0||n("."+F+t).length>0)&&i.setWalkmeTimeout(function(){0==n(".walkme-custom-highlighter-smarttipid-"+t).length&&0==n("."+F+t).length&&e.announce(p.getValue(D.LastInputValid))},100)}}function K(e){var t=[];if(e.PositiveFeedback&&!e.PositiveFeedback.IsWithIcon&&t.push(e.PositiveFeedback.Id),e.Validations)for(var n=0;n<e.Validations.length;n++)e.Validations[n].IsWithIcon||t.push(e.Validations[n].Id);return t}function G(i,a){var r=a.smartTipModel.Id,s=w.findElementsByjQueryComplexSelector("."+F+r),l=a.uiComponent,u=E.isFeatureEnabled("smartTipImgAccessibility");if(0!==s.length){X(s,r),o.bind("keydown",x,s);var d=l&&l.TooltipText;d&&(d=j(d),d=z(l.Type,d),e.elementWrapper(s,d));var m=u?"button":"img";t.setRole(s,I.smartTipIcon||m);var f=s.find("*");if(!u)for(var v=E.isFeatureEnabled(c.FEATURES.NoNonePresentation)?"presentation":"none presentation",b=0;b<f.length;b++)t.setRole(n(f[b]),v);var y="help";l.Type===c.SMART_TIP.COMPONENT_TYPE.Validation?y="Error":l.Type===c.SMART_TIP.COMPONENT_TYPE.PositiveFeedback&&(y="Valid Input"),u?f.attr("alt",y):s.attr("alt",y),ee(s),T.showDummy(B,r)}}function X(t,n){var i=t.parent(".walkme-icon-root-SmartTip-"+n);i.removeAttr("tabindex"),e.addTabIndex(t,-1)}function q(e,t){var n=t.smartTipModel.Id;o.unbindSpecificByElementSelector("."+F+n,"keydown",x),T.hideDummy(B,n)}function z(e,t){switch(e){case c.SMART_TIP.COMPONENT_TYPE.Validation:return t+". "+p.getValue(D.PreviousFieldInvalid);case c.SMART_TIP.COMPONENT_TYPE.PositiveFeedback:return p.getValue(D.PreviousFieldValid)+": "+t;default:return t}}function J(e){for(var t=r.parse(e),i=S.parseElementAsJquery("<div>"+t+"</div>"),a=i.find("img"),o=0;o<a.length;o++){var s=n(a[o]),l=s.attr("alt");l&&s.replaceWith(". "+l+".")}var u=i[0];return u.textContent||u.innerText}function Z(i,a){var r,s=a.uiComponent;if(s&&s.Id&&(r=s.Id),!r)return;var l="walkme-tooltip-"+r,u=n("#"+l);if(!u.length)return;o.bind("keydown",x,u),t.setRole(u,"tooltip");var d=n(u.selector+" iframe");e.addTabIndexToIframes(d);var m=e.getFocusablesInsideElement(u);b.setFocusBehavior(m);var v=a.smartTipModel.Id;if(s.Type!=c.SMART_TIP.COMPONENT_TYPE.Info&&!s.IsWithIcon){var y=h.getElementBySmartTipId(v)[0],E=f.getActiveElement();if(y!==E){var p=z(s.Type,s.TooltipText);e.announce(p)}}T.showDummy(N,v)}function $(e,t){var n=t.uiComponent;if(n&&n.Id){var i=n.Id;if(i){var a="walkme-tooltip-"+i;o.unbindSpecificByElementSelector("#"+a,"keydown",x),T.hideDummy(N,t.smartTipModel.Id)}}}function ee(e){o.bind("focus",function(){e.mouseover()},e),o.bind("blur",t,e);function t(t){if(t.shouldPreventDefault)return void t.preventDefault();var n=t.relatedTarget;if(n)te(e,n);else{var a=f.getActiveElement();i.setWalkmeTimeout(function(){te(e,a)},0)}}}function te(e,t){var a=s.getIdByElement(e,F)||ie(e),r="."+L.smartTipTooltip+a,l=n(r)[0];if(l&&n.contains(l,t)){var u=n(r).find("*");o.bind("blur",c,u)}else e.mouseleave();function c(t){var n=t.relatedTarget;if(n)ne(e,l,n);else{var a=f.getActiveElement();i.setWalkmeTimeout(function(){ne(e,l,a)},0)}}}function ne(e,t,i){i==e[0]||n.contains(t,i)||e.mouseleave()}function ie(e){var t=h.getSmartTipDetailsByElement(e);return t&&t.smartTipId}}},7581:function(e,t,n){var i=n(4884).Iy;i().register("MessageHandler").asCtor(a).dependencies("AriaAttributesSetter, Consts, AccessibilityConsts, DomManager, CommonUtils");function a(e,t,n,i,a){var r=this;r.handleMessages=s;var o=n.PARTIAL_SELECTORS.SURVEY;function s(e){var n=i.parseElementAsJquery(e.surveyObj.Questions),r=u(n),s=a.getJsonSettings(),m=s.surveyDialogDescribedBy;n.each(function(n,i){if(i.QuestionType==t.QUESTION_TYPES.Message){var a=e.surveyBalloon.find("#"+o.QUESTION+"-"+i.Id);if(0!=a.length){var s=a.find("."+o.QUESTION_TITLE),u=a.find("."+o.QUESTION_SUB_TITLE);r||l(e.surveyBalloon)||m?d(e.surveyBalloon,s,u,i.Id):(c(s,2),c(u,3))}}})}function l(e){return 1===e.find(".walkme-survey-questions ."+o.QUESTION).length}function u(e){var n=e.filter(function(){return this.QuestionType===t.QUESTION_TYPES.Message});return e.length===n.length}function c(t,n){t.attr("role","heading"),e.setAriaLevel(t,n)}function d(t,n,i,a){var r=o.QUESTION_TITLE+"-"+a,s=o.QUESTION_SUB_TITLE+"-"+a;n.attr("id",r),i.attr("id",s);var l=t.attr("aria-describedby")||"",u=l+" "+r+" "+s;e.setAriaDescribedBy(t,u)}}},6183:function(e,t,n){var i=n(4884).Iy;i().register("RequiredQuestionsHandler").asCtor(a).dependencies("Consts, DomManager");function a(e,t){var n=this;n.handleRquiredQuestions=i;function i(e){t.parseElementAsJquery(e.surveyObj.Questions).each(function(e,t){if(t.IsRequired){var n=r(t.Id);a(t,n)}})}function a(t,n){var i=t.QuestionType==e.QUESTION_TYPES.FreeText?"label":"legend",a=wmjQuery(i,n),r=a.text()+" Required";a.text(r)}function r(e){return wmjQuery("#walkme-survey-question-"+e)}}},8522:function(e,t,n){var i=n(4884).Iy;i().register("SurveyContainerHandler").asCtor(a).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, AccessibilityConsts,ElementsHidingManager, wmjQuery, FeaturesManager");function a(e,t,n,i,a,r,o){var s=this;s.handleContainer=f;var l,u=i.FOCUSABLE_SELECTORS.SURVEY,c=i.PARTIAL_SELECTORS.SURVEY,d=i.DEPLOYABLE_TYPES.survey;function m(){var e=t.getCustomConfiguration()||{};l=e.surveyAccessibilitySettings&&e.surveyAccessibilitySettings.headingsRanking||{}}function f(s,l,m,f,E){b(s);var p=y(s,l);e.addTabIndex(r(p));var T=e.shouldDisableFocusLock(d,l.Id),g="1"==l.Settings.fadeBackground;e.handleFocusElements(s,p,u.CLOSE_LINK,g||!T),E||(o.isFeatureEnabled("surveyDelayFocus")?setTimeout(function(){p[0].focus()},20):p[0].focus()),t.setRole(s,m||"dialog"),n.setAriaLabel(s,f);var h=r("."+c.TITLE,s);if(h.attr("id",c.TITLE),v(h,l.Id),n.setAriaLabelledBy(s,c.TITLE),e.shouldAddAriaHidden(g,d,l.Id)){var S=s.attr("id");a.hideAllButPopup(s,S,i.EVENTS.BALLOON.DestroyStepBalloon)}}function v(e,t){var i=l[t]||l["default"];if(!i)return;e.attr("role","heading"),n.setAriaLevel(e,i)}function b(n){var i=r(u.CLOSE_LINK,n);t.setRole(i,"button"),e.setXButtonLabel(i),i.removeAttr("title"),o.isFeatureEnabled("focusXButtonFirst")||e.moveElementToEnd(n,u.CLOSE_LINK)}function y(e,t){for(var n=[],i=0;i<t.Questions.length;i++){var a=t.Questions[i],s=r("#"+c.QUESTION+"-"+a.Id,e),l=r("."+c.QUESTION_ANSWERS,s);n.push.apply(n,l.toArray())}var d=r(u.BUTTON,e);n.push.apply(n,d.toArray());var m=r(u.CLOSE_LINK,e);return o.isFeatureEnabled("focusXButtonFirst")?n.unshift.apply(n,m.toArray()):n.push.apply(n,m.toArray()),n}m()}},6132:function(e,t,n){var i=n(4884).Iy;i().register("SurveyHtmlStandardizer").asCtor(a).dependencies("Consts, DomManager");function a(e,t){var n=this;n.standardizeHtml=a;var i="wm-wrapper-question-";function a(e){r(e),o(),s(e)}function r(n){t.parseElementAsJquery(n.surveyObj.Questions).each(function(t,i){i.QuestionType==e.QUESTION_TYPES.RadioButton?n.surveyBalloon.find(".walkme-survey-answer-subtitle").remove():i.QuestionType==e.QUESTION_TYPES.CheckBox&&wmjQuery("label.walkme-survey-answer-label-checkbox").remove()})}function o(){wmjQuery("label.walkme-survey-answer-label-radiobutton").each(function(e,t){t.innerHTML="answer"+e,t.style.display="none"})}function s(n){t.parseElementAsJquery(n.surveyObj.Questions).each(function(t,n){n.QuestionType==e.QUESTION_TYPES.RadioButton||n.QuestionType==e.QUESTION_TYPES.CheckBox||n.QuestionType==e.QUESTION_TYPES.NPS||n.QuestionType==e.QUESTION_TYPES.Rating?(l(n),c(n)):n.QuestionType==e.QUESTION_TYPES.FreeText&&d(n)})}function l(t){var n,i,a=u(t);t.QuestionType==e.QUESTION_TYPES.RadioButton?(n="#walkme-survey-question-radiobutton-answers-",i=".walkme-survey-radiobutton-answer"):t.QuestionType==e.QUESTION_TYPES.CheckBox?(n="#walkme-survey-question-checkbox-answers-",i=".walkme-survey-question-checkbox-answer"):t.QuestionType==e.QUESTION_TYPES.NPS?(n="#walkme-survey-question-nps-answers-",i=".walkme-survey-nps-answer"):t.QuestionType==e.QUESTION_TYPES.Rating&&(n="#walkme-survey-question-rating-answers-",i=".walkme-survey-rating-answer");var r=wmjQuery(n+t.Id);r.find(i).wrapAll(a)}function u(t){var n=document.createElement("fieldset");return n.id=i+t.Id,n.style.border="none",n.style.padding=0,n.style.margin=0,t.QuestionType==e.QUESTION_TYPES.Rating&&(n.style.display="flex"),n}function c(e){var t=f("legend",m(e));wmjQuery("#"+i+e.Id).prepend(t)}function d(e){var t=f("label",m(e));t.setAttribute("for","walkme-survey-question-freetext-"+e.Id);var n=wmjQuery("#walkme-survey-question-freetext-answers-"+e.Id);n.prepend(t)}function m(e){var t=e.SubTitle?" "+e.SubTitle:"";return e.Title+t}function f(e,n){var i=document.createElement(e);return i.style.opacity=0,i.style.height=0,i.style["font-size"]=0,i.style.color="transparent",t.setInnerHTML(i,n),i}}},2935:function(e,t,n){var i=n(4884).Iy;i().register("SurveyNPSRatingQuestionsHandler").asCtor(a).dependencies("Consts, DomManager, AriaAttributesSetter");function a(e,t,n){var i=this;i.handleNPSRatingQuestions=a;function a(n){t.parseElementAsJquery(n.surveyObj.Questions).each(function(t,n){n.QuestionType==e.QUESTION_TYPES.NPS&&r(),n.QuestionType==e.QUESTION_TYPES.Rating&&o(n)})}function r(){var e=wmjQuery("#walkme-survey-answer-nps-radiobutton-0");n.appendAriaDescribedBy(e,"walkme-survey-low-score-span");var t=wmjQuery("#walkme-survey-answer-nps-radiobutton-10");n.appendAriaDescribedBy(t,"walkme-survey-high-score-span")}function o(e){var t=wmjQuery("#walkme-survey-rating-"+e.Id+"-answer-1");n.appendAriaDescribedBy(t,"walkme-survey-rating-"+e.Id+"-title-1");var i=wmjQuery("#walkme-survey-rating-"+e.Id+"-answer-5");n.appendAriaDescribedBy(i,"walkme-survey-rating-"+e.Id+"-title-5")}}},1586:function(e,t,n){var i=n(4884).Iy;i().register("SurveyAccessibilityHandler").asCtor(a).dependencies("WmAccessibilityCommonUtils, AriaAttributesSetter, AccessibilityConsts, SurveyHtmlStandardizer, MessageHandler, RequiredQuestionsHandler, SurveyContainerHandler, DefaultTextGetter, FocusTracker, ElementsGetter, SurveyNPSRatingQuestionsHandler");function a(e,t,n,i,a,r,o,s,l,u,c){var d=this;d.init=y;var m,f,v,b;function y(e,t){E(),f=e,v=t,b=n.FOCUSABLE_SELECTORS.SURVEY}function E(){var e=n.EVENTS.SURVEY;_walkmeInternals.bind(e.SurveyBalloonDisplayed,p),_walkmeInternals.bind(e.SurveyQuestionCountSet,T),_walkmeInternals.bind(e.SurveyClosed,l.focus),_walkmeInternals.bind(e.RatingCommentGenerated,g)}function p(e,t){m=t,l.addToStack(u.findLastFocusedElement(),n.FOCUS_TRACKING_ELEMENTS_TYPES.survey),i.standardizeHtml(m),r.handleRquiredQuestions(m),c.handleNPSRatingQuestions(m),a.handleMessages(m),o.handleContainer(m.surveyBalloon,m.surveyObj,f.survey,v.survey)}function T(i,a){var r=wmjQuery(b.QUESTION_NUMBER,a.balloonDiv);e.addTabIndex(r);var o=r.text().split("/"),l=s.getValue(n.DEFAULT_TEXT_KEY.QuestionInfoText);l=l.replace("{0}",o[0]),l=l.replace("{1}",o[1]),t.setAriaLabel(r,l)}function g(e){o.handleContainer(m.surveyBalloon,m.surveyObj,f.survey,v.survey,!0)}}},163:function(e,t,n){var i=n(4884).Iy;function a(e){return 1===e.length&&"a"===e.first().prop("tagName").toLowerCase()}function r(e,t){t=l(t,0),e.attr("tabIndex",t),o(e)}function o(e){if(e.is("textarea"))return;e.off("keydown",s),e.on("keydown",s)}function s(e){var t=wmjQuery(this);13!=e.which||e.shiftKey||((a(t)?t[0]:t).click(),e.preventDefault(),e.stopPropagation())}function l(e,t){return"undefined"!=typeof e&&null!=e?e:t}function u(e,t,n){r(e,t),i().get("FocusBehaviorSetter").setFocusBehavior(e,n)}function c(){var e=i().get("FeaturesManager");return e.isFeatureEnabled("jawsAccessibility")||e.isFeatureEnabled("accessibility")}function d(){i().decorate("CommonUtils",function(e){return c()||(e.addTabIndex=u),e})}e.exports={overrideAddTabIndexIfNeeded:d}},4181:function(e,t,n){var i=n(4884).Iy;i().register("WalkThruAccessibilityHandler").asCtor(a).dependencies("FocusTracker");function a(e){var t=this;t.init=a;var n,i;function a(e,t){r(),n=e,i=t}function r(){_walkmeInternals.bind("UserStoppedWalkthru",e.focus),_walkmeInternals.bind("TutorialStopped",o)}function o(t,n){n&&e.focus()}}},9115:function(e,t,n){var i=n(4884).Iy;i().register("DummyLastElementAdder").asCtor(a).dependencies("wmjQuery, WmAccessibilityCommonUtils, Consts, EventHandlerBindingManager, ElementLastKeeper, DefaultTextGetter, AccessibilityConsts");function a(e,t,n,i,a,r,o){var s=this;s.add=l,s.reAdd=u;function l(){var s=e('<div id="walkme-dummy-last-element" class="walkme-to-destroy" tabindex="0">');e("body").append(s),s.focus(function(e,n){(!n||n&&!n.isAlreadyFocused)&&t.announce(r.getValue(o.DEFAULT_TEXT_KEY.EndOfPage))}),a.addElement(s,!0),i.bind(n.EVENTS.WidgetPlayer.PlayerBuilt,function(){u()})}function u(){e("#walkme-dummy-last-element").appendTo(e("body"))}}},5883:function(e,t,n){var i=n(4884).s;e.exports=i(function(e){n(8396),n(1503),n(7581),n(2935),n(6183),n(8522),n(6132),n(1586),n(4779),n(6161),n(334),n(4793),n(1111),n(7973),n(7409),n(2152),n(4188),n(9557),n(8804),n(7087),n(4181),n(2827),n(1464),n(3445),n(856),n(2522),n(9410),n(4115),n(7411),n(5119),n(7360),n(4371),n(643),n(2296),n(5805),n(7130),n(5576),n(4313),n(2533),n(6561),n(6808),n(1320),n(985),n(4012),n(7262),n(6857),n(5226),n(9115),n(7513),n(3791);var t=n(4335).y;e(new t)})},3791:function(e,t,n){var i=n(4884).Iy;i().register("DefaultTextGetter").asCtor(a).dependencies("AccessibilityGeneralManager, AccessibilityConsts, TextsTranslator");function a(e,t,n){var i=this;i.getValue=a;function a(n){return e.getValue(n)||r(n)||t.TEXTS[n]}function r(e){var i=t.SETTINGS_TRANSLATIONS_TEXTS_KEYS[e];return i&&n.translate(i)}}},7513:function(e,t,n){var i=n(4884).Iy;i().register("TextsTranslator").asCtor(a).dependencies("AccessibilityConsts, LanguageManager");function a(e,t){var n=this;n.init=a,n.translate=r;var i;function a(e){i=e}function r(n){var a=t.getCurrentLanguage(),r=i[a]||{};return r[n]||e.TEXTS[n]}}},985:function(e,t,n){var i=n(4884).Iy;i().register("AccessibilityLogger").asCtor(a).dependencies("PrelibLogger");function a(e){var t=this;t.write=n;function n(t){e.write("[Accessibility plugin] "+t)}}},7360:function(e,t,n){var i=n(4884).Iy;i().register("AriaAttributesSetter").asCtor(a);function a(){var e=this;e.setAriaLabel=t,e.setAriaLabelledBy=n,e.setAriaDescribedBy=i,e.setAriaLevel=r,e.setAriaHidden=o,e.appendAriaDescribedBy=a;function t(e,t){s(e,"aria-label",t)}function n(e,t){s(e,"aria-labelledby",t)}function i(e,t){s(e,"aria-describedby",t)}function a(e,t){l(e,"aria-describedby",t)}function r(e,t){s(e,"aria-level",t)}function o(e,t){s(e,"aria-hidden",t)}function s(e,t,n){for(var i=0;i<e.length;i++)e[i].setAttribute(t,n)}function l(e,t,n){for(var i=0;e&&i<e.length;i++)e[i].setAttribute(t,[e[i].getAttribute(t),n].join(" ").trim())}}},4371:function(e,t,n){var i=n(4884).Iy;i().register("DesignTemplatePlaceholdersRolesSetter").asCtor(a);function a(){var e=this;e.setDefaultRoleForActionPlaceholders=n;var t="button";function n(e){var n=wmjQuery("[wm-action-placeholder]:not([role])",e);n.each(function(){this.setAttribute("role",t)})}}},2296:function(e,t,n){var i=n(4884).Iy;i().register("DialogTabbaleElementsPreparer").asCtor(a).dependencies("WmAccessibilityCommonUtils, wmjQuery");function a(e,t){var n=this;n.prepareTabbableElements=i;function i(t,n,i,o){r(n,t,i),l(t),u(t);var s=e.getFocusablesInsideElement(t,!0,o);return a(t.attr("id"),s),s}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.id||(i.id=e+"-focusable-element-"+n)}}function r(n,i,a){var r=o(n,i,a);e.addTabIndex(t(r))}function o(e,n,i){var a=[];for(var r in e)if(e.hasOwnProperty(r)){var o=t(e[r],n);o.each(function(){var e=t(this);s(e,i)&&a.push(e[0])})}return a}function s(t,n){return"none"!=t.css("display")&&(!n||e.checkIfElementNotEmpty(t))}function l(n){var i=t("iframe",n);e.addTabIndexToIframes(i)}function u(n){var i=t("[wm-action-placeholder]",n);e.addTabIndex(i)}}},643:function(e,t,n){var i=n(4884).Iy;i().register("DialogTextSetter").asCtor(a).dependencies("AriaAttributesSetter, WmAccessibilityCommonUtils");function a(e,t){var n=this;n.setText=i;function i(t,n,i,o){var s=a(t,n,i);s&&e.setAriaLabelledBy(t,s);var l=r(t,n,o);l&&e.setAriaDescribedBy(t,l)}function a(e,n,i){var a,r,l=wmjQuery("[wm-title]",e);return 0!=l.length?r=s(l,n):(l=i&&wmjQuery("."+i,e),r=i+"-"+n),l&&0!=l.length&&t.checkIfElementNotEmpty(l)&&(a=o(l,r)),a}function r(e,t,n){for(var i=wmjQuery("[wm-placeholder]:not([wm-title])",e),a="",r=0;r<i.length;r++){var l=wmjQuery(i[r]),u=o(l,s(l,t));a+=u+" "}if(!a){var c=wmjQuery("."+n,e);a=o(c,n+"-"+t)}return a}function o(e,t){var n=e.attr("id");return n||(n=t,e.attr("id",n)),n}function s(e,t){var n=e.attr("wm-placeholder");return"placeholder-"+n+"-"+t}}},6561:function(e,t,n){var i=n(4884).Iy;i().register("ElementsGetter").asCtor(a).dependencies("AccessibilityUtils, AccessibilityConsts, wmjQuery, SmartTipElementsGetter, JQueryElementFinder, FeaturesManager");function a(e,t,n,i,a,r){var o=this;o.allShadowElements=[],o.lastShadowElementsUpdate,o.findLastFocusedElement=d,o.getAllTabbablesOnPageOrdered=s,o.getNonWalkmeTabbablesOrdered=u,o.getShadowRootActiveELement=m,o.getActiveElement=f;function s(){var t=l();return e.orderElementsByTabIndex(t)}function l(){if(!r.isFeatureEnabled("shadowDomAccessibility"))return a.findElementsByjQueryComplexSelector(":tabbable, "+c()).filter(function(){return"none"!=n(this).css("display")});return(!o.lastShadowElementsUpdate||o.lastShadowElementsUpdate<Date.now()-2e3)&&(o.allShadowElements=v(document).filter(b),o.lastShadowElementsUpdate=Date.now()),n(o.allShadowElements)}function u(){var e=l();return e.filter(function(){var e=n(this)[0];return e.className.indexOf("walkme")===-1||"walkme-player"===e.id})}function c(){return"[id^="+t.DUMMY_ELEMENT_ID_PREFIX+"]"}function d(){var e=n(f());return e=e.length&&e[0].shadowRoot?n(e[0].shadowRoot.activeElement):e,i.findLastFocusedElement(e)||e}function m(){for(var e=document.activeElement;e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function f(){if(r.isFeatureEnabled("shadowDomAccessibility"))return m();return document.activeElement}function v(e){var t=new Set;function n(e){if(!y(e))return;if(!t.has(e)){if(t.add(e),e.shadowRoot){var i=e.shadowRoot.querySelectorAll("*");i.forEach(function(e){n(e)})}for(var a=0;a<e.children.length;a++)n(e.children[a])}}return n(e),Array.from(t)}function b(e){if(!y(e))return!1;return e.tabIndex>=0||e instanceof HTMLSelectElement||e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement||e instanceof HTMLButtonElement||e instanceof HTMLInputElement}function y(e){if(e===document)return!0;return e.getClientRects().length>0}}},7130:function(e,t,n){var i=n(4884).Iy;i().register("ElementsHidingManager").asCtor(a).dependencies("AriaAttributesSetter, EventsListener, wmjQuery");function a(e,t,n){var i=this;i.hideAllButPopup=o;var a=[],r=[];function o(i,a,o){0===r.length&&s(),r.push(a),e.setAriaHidden(n("body").children(),!0),e.setAriaHidden(i,!1),t.once(o,function(){l(a)})}function s(){var e=n("body").children("[aria-hidden]");a=n.map(e,function(e){var t=n(e);return{element:t,val:t.attr("aria-hidden")}})}function l(e){u(e),0===r.length&&(n("body").children().removeAttr("aria-hidden"),c())}function u(e){var t=n.inArray(e,r);t!==-1&&r.splice(t,1)}function c(){for(var t=0;t<a.length;t++){var n=a[t];e.setAriaHidden(n.element,n.val)}a=[]}}},5576:function(e,t,n){var i=n(4884).Iy;i().register("FocusBehaviorSetter").asCtor(a).dependencies("wmjQuery, AccessibilityConsts, FeaturesManager, Consts, EventsListener");function a(e,t,n,i,a){var r=this;r.setFocusBehavior=v;var o,s,l="walkme-disable-default-focus",u="walkme-accessible-focus",c="walkme-outline-handled";function d(){o=n.isFeatureEnabled(t.FEATURES.AutoFocusRing),s="mousedown"+i.EVENTS.PropagationStoppedSuffix,_enableOutlineOnFocusin=n.isFeatureEnabled("addOutlineOnFocusin"),o||(_enableOutlineOnFocusin?e("body").on("focusin",m):e("body").on("keydown",m))}function m(n){(n.which==t.KEY_CODES.TAB||_enableOutlineOnFocusin)&&(o=!0,e("body").off("keydown",m).on("mousedown",f),a.on(s,f))}function f(t){o=!1,e("body").off("mousedown",f).on("keydown",m),a.off(s,f)}function v(t,n){var i;n=n||u;for(var a=0;a<t.length;a++){var r=e(t[a]);r.hasClass(c)||(r.addClass(c),r.focus(d).mousedown(s).blur(f))}function s(e){i="mousedown"===e.type}function d(){var t=m();e(this).addClass(t)}function m(){return o&&!i?n:l}function f(){i=!1,e(this).removeClass(n).removeClass(l)}}d()}},4313:function(e,t,n){var i=n(4884).Iy;i().register("FocusLockChecker").asCtor(a).dependencies("StepDataGetter, ShoutOutsManager, SurveysManager, WmAccessibilityCommonUtils, IdGetter, AccessibilityConsts");function a(e,t,n,i,a,r){var o=this;o.isFocusLocked=l;var s=r.DEPLOYABLE_TYPES;function l(){return u()||d()||c()||m()||f()}function u(){return wmjQuery(".walkme-splash").length>0}function c(){var t=wmjQuery(".walkme-custom-balloon-outer-div");if(t.length>0){var n=e.getActiveStepData();if(n)return n.isFocusLockEnabled}return!1}function d(){return wmjQuery("#walkme-content-light-box").length>0}function m(){var e=wmjQuery(".walkme-survey-balloon");if(e.length>0)for(var t=0;t<e.length;t++){var o=wmjQuery(e[t]),l=a.getIdByElement(o,r.ELEMENT_TYPES_PREFIX.survey),u=n.getById(l),c=i.shouldDisableFocusLock(s.survey,l),d="1"==u.Settings.fadeBackground;return d||!c}return!1}function f(){var e=wmjQuery(".wm-outer-div.wm-shoutout");if(e.length>0)for(var n=0;n<e.length;n++){var o=wmjQuery(e[n]),l=a.getIdByElement(o,r.ELEMENT_TYPES_PREFIX.shoutout),u=t.getById(l),c=!!u.Settings.overlay,d=i.shouldDisableFocusLock(s.shoutout,l);return c||!d}return!1}}},5805:function(e,t,n){var i=n(4884).Iy;i().register("IdGetter").asCtor(a);function a(){var e=this;e.getIdByElement=t;function t(e,t){return n(e,t)}function n(e,t){var n=e.attr("class");if(!n)return;var i=n.split(" ");if(i)for(var a=0;a<i.length;a++)if(0==i[a].indexOf(t))return i[a].substring(t.length)}}},1320:function(e,t,n){var i=n(4884).Iy;i().register("IframeTabOrderWrapper").asCtor(a).dependencies("DomManager, FeaturesManager");function a(e,t){var n=this;n.wrapIframes=i;function i(e,n){if(t.isFeatureEnabled("ignoreIframeWrap"))return;for(var i=e||wmjQuery("iframe"),r=0;r<i.length;r++){var o=wmjQuery(i[r]);if("walkme-hidden-iframe"===o.attr("id")||"walkme-to-remove"===o.attr("class"))return;var s=a("before"),l=a("after");n&&n.iframeWrapper&&(l.attr("role",n.iframeWrapper),s.attr("role",n.iframeWrapper)),s.insertBefore(o),l.insertAfter(o)}}function a(n){var i=t.isFeatureEnabled("iframeWrapperText")?n+" iframe":"";return e.parseElementAsJquery('<div class="walkme-to-destroy walkme-iframe-wrapper-'+n+'" tabindex="0" style="width: 1px;position: absolute;left: -10000px;" aria-label="'+n+' iframe">'+i+"</div>")}}},4012:function(e,t,n){var i=n(4884).Iy;i().register("SmartTipExistenceChecker").asCtor(a).dependencies("BusinessSolutionsManager");function a(e){var t=this;t.doSmartTipsExist=n;function n(){var t=e.getDeployablesDict();for(var n in t)if(t[n].SmartTips&&t[n].SmartTips.length>0)return!0;return!1}}},6857:function(e,t,n){var i=n(4884).Iy;i().register("SmartTipIdentifier").asCtor(a);function a(){var e=this;e.isSmartTipIconElement=t;function t(e){return e.hasClass("walkme-custom-icon-outer-div")&&!e.hasClass("walkme-custom-launcher-outer-div")}}},7262:function(e,t,n){var i=n(4884).Iy;i().register("StepDataGetter").asCtor(a).dependencies("FlowsContainer, FlowStack, WmAccessibilityCommonUtils, Lib, Consts, AccessibilityConsts");function a(e,t,n,a,r,o){var s=this;s.getActiveStepData=u;var l=o.DEPLOYABLE_TYPES;function u(){return c()?m():d()}function c(){return void 0!=a.getCurrentTutorial()&&i().get("CurrentWalkthruData").state!=r.WALKTHRU_STATE.NOT_RUNNING}function d(){var n=t.peek();if(!n)return;var i=e.getNodeById(n.flowId,n.stageId),a=i&&i.UIElements&&i.UIElements[0];if(!a)return;var r=f(a),o="Popup"===a.Type,s=a.AccessibilityConfigs&&a.AccessibilityConfigs.length>0?a.AccessibilityConfigs[0]:{},u={deployableType:l.SWT,spotlight:r,isPopup:o,id:a.Id,isFocusGrabEnabled:0!=s.IsFocusGrabEnabled,ariaLabel:s.AriaLabel,identifySettings:s.IdentifySettings};u.isFocusLockEnabled=v(u,0!=s.IsFocusLockEnabled);var c=b(u,0!=s.IsFocusGrabEnabled);return c||(u.isFocusGrabEnabled=c,u.isFocusLockEnabled=c,u.spotlight=c),u}function m(){var e=i().get("CurrentWalkthruData").getCurrentStep();if(e){var t=f(e),n=e.AccessibilityConfigs&&e.AccessibilityConfigs.length>0?e.AccessibilityConfigs[0]:{},a={deployableType:l.WT,spotlight:t,isPopup:i().get("StepUtils").isPopupStep(e),id:e.Id,isFocusGrabEnabled:0!=n.IsFocusGrabEnabled,ariaLabel:n.AriaLabel,identifySettings:n.IdentifySettings};return a.isFocusLockEnabled=v(a,0!=n.IsFocusLockEnabled),a}}function f(e){return"1"==e.Settings.fadeBackground||1==e.Settings.fadeBackground||"True"==e.Settings.fadeBackground||"1"==e.Settings.ioEnabled}function v(e,t){var i=n.shouldDisableFocusLock(e.deployableType,e.id);return e.spotlight||e.isFocusGrabEnabled&&t&&!i}function b(e,t){var i=n.shouldDisableFocus(e.deployableType,e.id);return!i&&t}}},5226:function(e,t,n){var i=n(4884).Iy;i().register("AllowedTabbableElementFinder").asCtor(a).dependencies("wmjQuery, AccessibilityConsts");function a(e,t){var n=this;n.findNext=i;function i(n,i){for(var a=n+1;a<i.length;a++){var r=e(i[a]);if(0===r.parents(t.ELEMENTS_SELECTORS.SMART_TIP.tooltip).length)return r}}}},2522:function(e,t,n){var i=n(4884).Iy;i().register("WmAccessibilityCommonUtils").asCtor(a).dependencies("CommonUtils, TimerManager, AccessibilityUtils, FocusBehaviorSetter, AriaAttributesSetter, DefaultTextGetter, ArrayUtils, AccessibilityConsts,IframeTabOrderWrapper,FeaturesManager, ElementsGetter");function a(e,t,n,i,a,r,o,s,l,u,c){var d=this;d.init=T,d.moveElementToEnd=n.moveElementToEnd,d.moveElementToStart=n.moveElementToStart,d.elementWrapper=A,d.handleFocusElements=C,d.addTabIndex=L,d.bindEscToClose=F,d.setXButtonLabel=O,d.lockFocus=B,d.getFocusablesInsideElement=n.getFocusablesInsideElement,d.checkIfElementNotEmpty=k,d.shouldDisableFocusLock=h,d.shouldDisableFocus=S,d.shouldAddAriaHidden=w,d.addTitlesToFrames=g,d.bindSpacePressToClick=U,d.unbindSpacePressToClick=Q,d.announce=n.announce,d.isWMElement=x,d.isWMBalloon=R,d.isElementOnScreen=N,d.addTabIndexToIframes=_,d.getKeyByValue=H,d.findWidgetinElementList=W,d.findElementAboveBalloon=Y,d.findCorrectElementToTabTo=j,d.findElementInList=V;var m,f,v,b=27,y=9,E=32,p=s.DEFAULT_TEXT_KEY;function T(e,t,n){m=e,f=t,v=n}function g(e){t.libSetTimeout(function(){for(var t=wmjQuery("iframe",e),n=0;n<t.length;n++)t.eq(n).attr("title")||t.eq(n).attr("title",r.getValue(p.UntitledIframe))})}function h(e,t){var n=m[e];return n&&(n.disableAll&&"true"==n.disableAll.toLowerCase()||n.disableIds&&0!=n.disableIds.length&&o.inArray(t.toString(),n.disableIds)!=-1)}function S(e,t){var n=f[e];return n&&(n.disableAll&&"true"==n.disableAll.toLowerCase()||n.disableIds&&0!=n.disableIds.length&&o.inArray(t.toString(),n.disableIds)!=-1)}function w(e,t,n){if(!v)return!1;return e||I(t,n)}function I(e,t){var n=e?v[e]:void 0;return n&&(o.inArray("*",n)!==-1||o.inArray(t.toString(),n)!==-1)}function A(e,t,n){var i=t;n&&(t?i+=". "+n:i=n),i&&e&&a.setAriaLabel(e,i)}function C(e,t,n,a,r){u.isFeatureEnabled("noContainerTabIndex")||e.attr("tabIndex",0),i.setFocusBehavior(e),i.setFocusBehavior(t);var o=wmjQuery(n,e);
F(e,o),a&&B(e,t,r)}function k(e){return wmjQuery.trim(e.text())||0!=e[0].childNodes.length&&!(1==e[0].childNodes.length&&(1==e.has("div").length||e.text()))}function L(t,n){for(var i=0;i<t.length;i++)e.addTabIndex(t.eq(i),n?n:0)}function F(e,t){t.length>0&&wmjQuery(e).keydown(function(e){e.keyCode===b&&t.click()})}function O(e,t){a.setAriaLabel(e,t||r.getValue(p.Close))}function _(e){L(e),u.isFeatureEnabled("innerIframesWrap")&&l.wrapIframes(e)}function B(e,t,n){e.keydown(function(i){if(i.which==y){var a=wmjQuery(c.getActiveElement());a=a[0]?a[0]:e[0],a=a.shadowRoot?a.shadowRoot.activeElement:a,i.shiftKey?a!=t[0]&&a!=e[0]||(n&&n.length?d.getFocusablesInsideElement(n).last().focus():t[t.length-1].focus(),i.preventDefault()):a==t[t.length-1]&&(n&&n.length?d.getFocusablesInsideElement(n).first().focus():t[0].focus(),i.preventDefault())}})}function N(e){var t=D(e);if(t)return!0;var n=P(e);return n&&D(n)}function D(e){return wmjQuery.contains(document.documentElement,wmjQuery(e)[0])}function P(e){for(var t=wmjQuery(e)[0];t&&!t.host;)t=t.parentNode;if(t)return t.host}function x(e){if(!e)return!1;var t=e.id;if(t&&t.indexOf&&t.indexOf("walkme")>=0)return!0;var n=e.className;return n&&n.indexOf&&(n.indexOf("walkme")>=0||n.indexOf("wmd")>=0||n.indexOf("wm-")>=0)}function R(e){if(!e)return!1;var t=e.className;return t&&t.indexOf&&t.indexOf("walkme-custom-balloon-outer-div")>=0}function M(e){e.which===E&&(e.preventDefault(),e.stopPropagation(),e.currentTarget.click())}function U(e,t){t?wmjQuery(t).on("keypress.accessibility",e,M):wmjQuery(e).on("keypress.accessibility",M)}function Q(e,t){t?wmjQuery(t).off("keypress.accessibility",e,M):wmjQuery(e).off("keypress.accessibility",M)}function H(e,t){return Number(Object.keys(e).find(function(n){return e[n]===t}))}function W(e){for(var t,n=0;n<e.length;n++)if(t=e[n],t.id.indexOf("walkme-player")!=-1)return t}function Y(e){for(var t,n,i=0;i<e.length;i++)if(t=e[i],n=e[i+1],n.className.indexOf("walkme-custom-balloon-outer-div")>=0)return t}function j(e,t,n,i){var i=i||0,a=V(n);a=void 0!==a?a.focusTrackingDetails.elementToKeep[0]:t;var r=H(e,a);if(!Number.isFinite(r))var o=t.last(),r=d.getKeyByValue(e,o[0]);if(!e[r+i])return e[0];return e[r+i]}function V(e){if(0===Object.keys(e).length)return;for(var t=0;t<Object.keys(e).length;t++)if(void 0!==Object.values(e)[t])return Object.values(e)[t]}}},9410:function(e,t,n){var i=n(4884).Iy;i().register("WmAccessibilityCss").asCtor(a).dependencies("ResourceManager, FeaturesManager, SettingsFile");function a(e,t,i){var a=this;a.getCss=l;var r,o="walkme-accessibility-css";a.init=function(){if(t.isFeatureEnabled("inlineStyleCspSupport"))s();else{var n=l();e.injectCss(n,o,wmjQuery("head"))}};function s(){var t=i.getSettingsFile().Styles+"/accessibility/";e.injectCssFile(t+"wmAccessibilityCss.css",{cssId:o})}function l(){return r||(r=n(7820)),r}}},7411:function(e,t,n){var i=n(4884).Iy;i().register("WmAccessibilityInitializer").asCtor(a).dependencies("FeaturesManager, CommonUtils, WmAccessibilityCss, BizFlowAccessibilityHandler, LauncherAccessibilityHandler, ResourceAccessibilityHandler, ShoutoutAccessibilityHandler, SmartTipAccessibilityHandler, SurveyAccessibilityHandler, WalkThruAccessibilityHandler, ShuttleAccessibilityHandler, MenuAccessibilityHandler, WmAccessibilityCommonUtils, BBCodeAccessibilityHandler, BallonCreatedAccessibilityHandler, TextsTranslator, IframeTabOrderWrapper, LiveChatAccessibilityHandler, ShoutoutVisualDesignAccessibilityHandler, DebuggerAccessibilityHandler");function a(e,t,n,i,a,r,o,s,l,u,c,d,m,f,v,b,y,E,p,T){var g,h,S,w,I,A=this;A.init=function(){if(!e.isFeatureEnabled("jawsAccessibility")&&!e.isFeatureEnabled("accessibility")){n.init();var i=t.getCustomConfiguration();g=i.deployablesRoles||{},h=i.deployablesAriaLabels||{},S=i.accessibilityFocusLock||{},w=i.accessibilityFocus||{};var a=i.accessibilityMultilang||{};I=i.accessibilityHidePopupBackground,b.init(a),C(),y.wrapIframes(void 0,g)}};function C(){m.init(S,w,I),f.init(g,h),i.init(g,h),a.init(g,h),d.init(g,h),r.init(g,h),o.init(g,h),s.init(g,h),l.init(g,h),u.init(g,h),c.init(g,h),v.init(g,h),E.init(g,h),p.init(),T.init(),m.announce("")}}},4884:function(e,t){var n,i,a={createPluginEntry:r,getCtx:o};function r(e){return function(t){i=t(),e(s)}}function o(){return i.ctx}function s(e){i.plugin(e)}n=!0,n=a,t.s=a.createPluginEntry,t.Iy=a.getCtx},7820:function(e){"use strict";e.exports="#walkme-current-language {\n\tpadding: 3px !important;\n}\n\n.walkme-tab-button {\n\toutline-offset: -3px;\n}\n\n.walkme-accessible-focus:focus {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-survey-answer-nps-radiobutton.walkme-accessible-focus:focus + label {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-survey-answer-rating-radiobutton.walkme-accessible-focus:focus + label {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-disable-default-focus {\n\toutline: 0px !important;\n}\n\n.walkme-menu-open-notie .walkme-category .walkme-accessible-activatable-focus.walkme-deployable-row:focus,\n.walkme-menu-open-notie .walkme-activatable.walkme-accessible-activatable-focus:focus,\n.walkme-menu-open-notie .walkme-deployable-row.walkme-accessible-activatable-focus:focus {\n\toutline: 0;\n\t-webkit-box-shadow: inset 0px 0px 0px 2px #3c9dd7;\n\t-moz-box-shadow: inset 0px 0px 0px 2px #3c9dd7;\n\toutline: solid 2px #7dc7ea !important;\n\toutline-offset: -2px;\n}\n\n.walkme-menu-open-ie .walkme-category .walkme-accessible-activatable-focus.walkme-deployable-row:focus,\n.walkme-menu-open-ie .walkme-activatable.walkme-accessible-activatable-focus:focus,\n.walkme-menu-open-ie .walkme-deployable-row.walkme-accessible-activatable-focus:focus {\n\toutline: solid 3px #7dc7ea !important;\n\toutline-offset: -2px;\n}\n\n.walkme-search-box.walkme-accessible-focus:focus {\n\tbox-shadow: inset 0px 0px 0px 2px #3c9dd7;\n}\n\n#wt-cannot-be-played {\n\tdisplay: block;\n\tmargin-top: 0.67em;\n\tmargin-bottom: 0.67em;\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-weight: bold;\n\tcolor: #373737;\n\tfont-size: 14px;\n\tborder: none;\n\tmargin: 10px;\n\tword-wrap: break-word;\n}\n"}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}var a=i(1142);t=a}(),t});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-user-behavior@5.0.79@prelib",{name:"wm-plugin-user-behavior",version:"5.0.79",toolbelt:"1.4.1",packageDate:"2024-12-15T14:32:32.015Z",entry:"prelib"},function(e){var t;return function(){var e={824:function(e,t,r){e.exports=r(819)},927:function(e,t){var r;r=!0;var n;!function(e){var t=/([&=\.\]\[\/\#])/g,r=/\\([&=\.\]\[\/\#\\/])/g;function n(e){return e.replace(t,"\\$1")}e.escape=n;function i(e){return e.replace(r,"$1")}e.unescape=i}(n=t.F||(t.F={}))},228:function(e,t,r){var n=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},i=function(){function e(){}return e.registerClass=function(t,r,n){e.classRegistrations.push({name:t,ctor:r,dependencies:n})},e.getCtx=function(){if(e.ctx)return e.ctx;throw new Error("ctx is not set")},e.load=function(t){e.ctx=t,e.loadMockDependencies(t),e.loadModules(t);for(var r=0,n=e.classRegistrations;r<n.length;r++){var i=n[r],o=t.register(i.name).asCtor(i.ctor);i.dependencies&&o.dependencies(i.dependencies)}e.classRegistrations=[]},e.loadMockDependencies=function(e){e.register("Abra:Walkme").asInstance(window._walkMe)},e.loadModules=function(e){e.register("Abra:EventObfuscator").asCtor(r(918).Encoder).dependencies("Abra:JSON"),e.register("Abra:QueryGenerator").asFunction(function(e){var t=r(543)({}),n=r(185)(e,t);return{generate:function(t){return n.generate(e(t))}}}).dependencies("wmjQuery"),e.register("Abra:XpathEscaper").asInstance(r(927).F)},e.classRegistrations=[],e}(),o=function(){function e(e,t,r,n,i,o){this.jQuery=e,this.xPathGenerator=t,this.elementDescriptionGenerator=r,this.meaningfulElementGetter=n,this.commonEventAttributesProvider=i,this.privacyUtils=o}return e.prototype.getLocation=function(e){var t=this.commonEventAttributesProvider.get();return t&&t.ctx&&t.ctx.location},e.prototype.getElementAttributes=function(e){var t=this.privacyUtils.shouldCensorText(null,e);return this.xPathGenerator.getAttributes(this.jQuery(e),t)},e.prototype.getElementId=function(e){return this.xPathGenerator.getId(this.jQuery(e))},e.prototype.getElementClasses=function(e){return this.xPathGenerator.getClasses(this.jQuery(e))},e.prototype.getElementText=function(e){if(!this.privacyUtils.shouldCensorText(null,e)){var t=this.meaningfulElementGetter.get(e);return this.elementDescriptionGenerator.getText(t?t.element:e).text}},e.prototype.load=function(){a.AbraObject=this.jQuery.extend(a.AbraObject,{getLocation:this.getLocation.bind(this),getElementAttributes:this.getElementAttributes.bind(this),getElementId:this.getElementId.bind(this),getElementClasses:this.getElementClasses.bind(this),getElementText:this.getElementText.bind(this)})},e}();i.registerClass("Abra:CaptureElementApiLoader",o,"wmjQuery, Abra:XPathGenerator, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, CommonEventAttributesProvider, Abra:PrivacyUtils");var s=function(){function e(e,t,r,n){var i=this;this.logger=e,this.eventsTrigger=t,this.timingUtils=r,this.lastNotification=null,this.cachedResult=null,this.collectByDefault=!this.isManualMode(n),a.AbraObject.isCollecting=function(){return i.shouldCollect()},this.cleanCachedResultOnNextEventLoop=this.timingUtils.createOnNextEventLoopFunc(function(){i&&(i.cachedResult=null)})}return e.prototype.shouldCollect=function(){if(null!==this.cachedResult)return this.cachedResult;try{this.cachedResult=this.querySite(),null!==this.cachedResult&&this.cleanCachedResultOnNextEventLoop()}catch(e){this.cachedResult=null,this.logger.error("Error on ShouldCollectUserData",e)}var t=null!==this.cachedResult?this.cachedResult:this.collectByDefault;return this.notifyChange(t),t},e.prototype.querySite=function(){var e=window.isWalkmeUserBehaviorDataCollectionEnabled;if(e&&e.constructor&&e.call&&e.apply){var t=e();if(t===!0||t===!1)return t;throw new Error("return value expected to be boolean")}return null},e.prototype.isManualMode=function(e){var t=e.get();return!(!t||!t.loading||"manual"!==t.loading.mode)},e.prototype.notifyChange=function(e){this.lastNotification!==e&&(this.lastNotification=e,this.eventsTrigger.async("UBT:CollectionStatusChanged",{isCollecting:e}))},e}();i.registerClass("Abra:CollectionIndicator",s,"Abra:Logger, EventsTrigger, Abra:TimingUtils, Abra:DataCollectionSettingsWrapper");var a;!function(e){e.App={name:"abra",version:"5.0.79",rev:"8244bd1"},e.WalkmeInternals=window._walkmeInternals,e.AbraObject={version:e.App.version,rev:e.App.rev};function t(t){e.WalkmeInternals.abraState=t}e.setState=t;function r(r){t("errored"),e.AbraObject.errorInfo=r}e.setErrorInfo=r;function n(e){try{var t=e.get("EventsListener"),n=function(){!e.has("Abra:InsightsConfigurationGetter")&&e.has("WmAjax")&&e.has("SettingsFile")&&e.has("PromiseManager")&&e.has("TimerManager")&&e.has("CommonUtils")&&(e.register("Abra:InsightsConfigurationGetter").asCtor(u).dependencies("WmAjax, SettingsFile, PromiseManager, TimerManager, CommonUtils"),e.get("Abra:InsightsConfigurationGetter").get())};t.once("DICreated",n);var i=B.allowOnce(function(){n(),s(e)});t.once("wm.pagescript.envIdInjected",i),t.once("BeforeWalkmeReady",i),I.enable(e),o(e)}catch(a){r({error:a})}return null}e.start=n;function o(e){var t={initializationData:void 0};e.get("EventsListener").once("PageVisitIdUpdated",function(e,r){t.initializationData=r}),e.register("Abra:PageLoadSync").asInstance(t)}function s(n){n.register("Abra:UbtPerformance").asCtor(Z).dependencies("PerformanceBILogger"),e.AbraObject.dbg=new h(n).getApi();var o=$.registerLogger(n),s="verify requirements";try{if((e.WalkmeInternals.abra||e.WalkmeInternals.ubt)&&"removed"!==e.WalkmeInternals.abraState)return o.error("Abra was already loaded");e.WalkmeInternals.abra=e.AbraObject,e.WalkmeInternals.ubt=e.AbraObject;var a=n.get("HostData");if(a.isIE()&&!a.isIE(9,"gte"))return r({error:new Error("Browser is not supported")});if(!n.get("AuditingEnabledIndicator").isEnabledForInsights())return r({error:new Error("Disabled due to noAudit feature enabled")});var u=o.perf("load");t("preload"),s="load abra to ctx",i.load(n),n.get("EventsTrigger").sync("Abra:CtxLoaded"),s="load abra";var l=!!n.get("IsInEditor").get(),c=n.get("Abra:InsightsConfigurationGetter");c.get()["catch"](function(e){o.error("error loading ubt, using fallback",e),c.overrideConfiguration()}).then(function(){return n.get("Abra:Loader").load(l).then(function(e){e&&u.stop()})})["catch"](function(e){o.error("error loading ubt",e),r({error:e})})}catch(p){o.error("could not ".concat(s),p),r({error:p})}}}(a||(a={})),e.exports=a;var u=function(){function e(e,t,r,n,i){this.wmAjax=e,this.settingsFile=t,this.promiseManager=r,this.timerManager=n,this.commonUtils=i,this.promiseResolved=!1}return e.prototype.get=function(){return this.promise=this.promise||this.fetch(),this.promise},e.prototype.getSync=function(){if(!this.promiseResolved)throw new Error('InsightsConfigurationGetter.getSync should be called within "get" function scope');return this.configuration},e.prototype.overrideConfiguration=function(e){this.promise=this.promiseManager.resolve(e),this.configuration=e,this.promiseResolved=!0},e.prototype.getFileExtension=function(e){return e.substring(e.lastIndexOf(".")+1)},e.prototype.fetch=function(){var e=this,t=new this.promiseManager.Promise(function(t,r){var n=localStorage["ubt-te-whitelist-url"]||e.settingsFile.getSettingsFile().InsightsConfigurationFile;if(n){var i=e.getFileExtension(n);"js"===i?e.commonUtils.addScriptWithCallback(n,"InsightsConfigurationCallback",t,r,!0):e.ajax(n,t,r,1)}else t()});return t.then(function(t){e.promiseResolved=!0,e.configuration=t}),t},e.prototype.ajax=function(e,t,r,n){var i=this;void 0===n&&(n=0),this.wmAjax.execute({url:e,dataType:"json",success:function(e){t(e)},error:function(o,s,a){if(n>0)i.timerManager.libSetTimeout(function(){i.ajax(e,t,r,n-1)},500);else{var u={message:"error getting configuration",extraData:{file:e,errorThrown:a,textStatus:s,status:o.status}};r(u)}}})},e}(),l=function(){function e(e,t,r,n,i,o,s,a,u,l,c,h,p,g,d,f,v,m){this.logger=e,this.storageSynchronizer=t,this.eventsSenderWrapper=r,this.eventsTrigger=n,this.jQuery=i,this.userEventCreator=o,this.idleEventCreator=s,this.windowIdGetter=a,this.errorUtils=u,this.frameBinder=l,this.pageInfoCreator=c,this.timingUtils=h,this.eventsListener=p,this.userEventListener=g,this.keypressEventCreator=d,this.captureElementApiLoader=f,this.insightsConfigurationGetter=v,this.featuresManager=m,this.isUnloaded=!1}return e.prototype.load=function(e){var t=this;void 0===e&&(e=!1);var r;return a.setState("loading"),this.storageSynchronizer.getStorageKey()["catch"](this.errorUtils.wrapCatch("get storage key")).then(function(){return t.windowIdGetter.load()})["catch"](this.errorUtils.wrapCatch("get winId")).then(function(){e||(t.featuresManager.isFeatureEnabled("UbtUsePointerEvent")&&w.enablePointerEvent(),t.errorUtils.wrapCall(function(){return t.eventsSenderWrapper.init(r)},"load sender"),t.errorUtils.wrapCall(function(){return t.frameBinder.load()},"bind frames"),t.errorUtils.wrapCall(function(){return t.userEventCreator.load()},"load event creator"),t.featuresManager.isFeatureEnabled("UbtEnableKeypressEvent")&&t.errorUtils.wrapCall(function(){return t.keypressEventCreator.load()},"load keypress event creator"),t.errorUtils.wrapCall(function(){return t.idleEventCreator.load()},"load idle event creator"),t.errorUtils.wrapCall(function(){return t.pageInfoCreator.load()},"load page info creator")),t.errorUtils.wrapCall(function(){return t.captureElementApiLoader.load()},"load capture element api"),a.WalkmeInternals.removeAbra=function(e){t.unload({message:e||"no error provided"},{failPoint:"API call"})},t.eventsListener.once("removeWalkMe",function(){t.unload({message:"removeWalkMe"},void 0,!0)});var n=t.insightsConfigurationGetter.getSync();return n&&n.trackedEventsWhitelist||t.disableHeartbeat(),a.setState(e?"silent":"loaded"),t.eventsTrigger.sync("Abra:Ready"),!0})["catch"](function(e){return t.unload(e),!1})},e.prototype.disableHeartbeat=function(){i.getCtx().has("HeartbeatEventSender")&&i.getCtx().get("HeartbeatEventSender").disable()},e.prototype.unload=function(e,t,r){if(void 0===r&&(r=!1),this.isUnloaded===!0)return;a.setState("removing"),a.WalkmeInternals.removeAbra=void 0,this.isUnloaded=!0,t=t?this.jQuery.extend(e.extraData||{},t):e.extraData||{},a.setErrorInfo({error:e,extraData:t});try{this.userEventListener.disable(),this.eventsSenderWrapper.disable(),this.timingUtils.disable(),this.frameBinder.unload(),this.windowIdGetter.unload(),this.userEventCreator.unload(),this.idleEventCreator.unload(),this.pageInfoCreator.unload(),this.keypressEventCreator.unload(),a.setState("removed")}catch(n){this.logger.warn("error unloading abra",n)}t.failPoint=t.failPoint||"unknown reason",r||this.logger.error("abra unload: ".concat(t.failPoint),e,t)},e}();i.registerClass("Abra:Loader",l,"Abra:Logger, Abra:StorageSynchronizer, Abra:EventsSenderWrapper, EventsTrigger, wmjQuery, Abra:UserEventCreator, Abra:IdleEventCreator, Abra:WindowIdGetter, Abra:ErrorUtils, Abra:FrameBinder, Abra:PageInfoCreator, Abra:TimingUtils, EventsListener, Abra:UserEventListener, Abra:KeypressEventCreator, Abra:CaptureElementApiLoader, Abra:InsightsConfigurationGetter, FeaturesManager");var c=function(){function e(e){this.ctx=e}return e.prototype.get=function(){return{disableEventListeners:this.disableEventListeners.bind(this),disableEventSender:this.disableEventSender.bind(this),disableXpathBuilder:this.disableXpathBuilder.bind(this),disableAutoQuery:this.disableAutoQuery.bind(this),disableMeaningfulElement:this.disableMeaningfulElement.bind(this),disableLabel:this.disableLabel.bind(this),disableText:this.disableText.bind(this),disableIdleActive:this.disableIdleActive.bind(this),enablePerformanceLogs:this.enablePerformanceLogs.bind(this)}},e.prototype.decorateOnLoad=function(e,t){var r=this;this.ctx.get("EventsListener").once("Abra:CtxLoaded",function(){r.ctx.decorate(e,t)})},e.prototype.disableEventListeners=function(){this.decorateOnLoad("Abra:UserEventListener",function(e){return e.register=function(){return-1},e})},e.prototype.disableEventSender=function(){this.decorateOnLoad("Abra:EventsSenderWrapper",function(e){return e.init=function(){return},e.send=function(){return},e})},e.prototype.disableXpathBuilder=function(){this.decorateOnLoad("Abra:XPathGenerator",function(e){return e.generate=function(){return{xpath:"mock[0]",xpathParts:null}},e})},e.prototype.disableAutoQuery=function(){this.decorateOnLoad("Abra:QueryGenerator",function(e){return e.generate=function(){return"mock"},e})},e.prototype.disableMeaningfulElement=function(){this.decorateOnLoad("Abra:MeaningfulElementGetter",function(e){return e.get=function(){return},e})},e.prototype.disableLabel=function(){this.decorateOnLoad("Abra:LabelGetter",function(e){return e.get=function(){return"mock"},e})},e.prototype.disableText=function(){this.decorateOnLoad("Abra:ElementDescriptionGenerator",function(e){return e.getText=function(){return{text:"mock"}},e})},e.prototype.disableIdleActive=function(){this.decorateOnLoad("Abra:IdleEventCreator",function(e){return e.load=function(){return},e})},e.prototype.enablePerformanceLogs=function(){var t=this;this.ctx.decorate("Abra:UbtPerformance",function(r){var n;return r.perf=function(r){return n=n||t.ctx.get("Abra:Logger"),e.createPerf(r,n)},r})},e.createPerf=function(e,t){var r=window.performance,n=r.now(),i=n;return{stop:function(){return t.info("performance: ".concat(e," took ").concat((r.now()-n).toFixed(2)," ms"))},step:function(o){var s=r.now();t.info("performance: ".concat(e,"-").concat(o," time from start ").concat((s-n).toFixed(2)," ms (time from last step ").concat((s-i).toFixed(2)," ms)")),i=s}}},e}(),h=function(){function e(e){this.enableIndicatorFlag="wm-ubt-dbg",this.storage=window.localStorage,this.storage&&this.checkFlag(this.enableIndicatorFlag)&&(this.options=new c(e).get(),this.activateFlags(),this.api=this.createApi())}return e.prototype.getApi=function(){return this.api},e.prototype.activateFlags=function(){for(var e in this.options)this.options.hasOwnProperty(e)&&this.checkFlag(this.getFlagName(e))&&this.options[e]()},e.prototype.getFlagName=function(e){return"".concat(this.enableIndicatorFlag,"-").concat(e)},e.prototype.checkFlag=function(e){return"true"===this.storage[e]},e.prototype.toggleFlag=function(e){return this.storage[e]=!this.checkFlag(e),this.checkFlag(e)},e.prototype.clearFlag=function(e){this.storage.removeItem(e)},e.prototype.createApi=function(){var e=this,t={},r=function(r){n.options.hasOwnProperty(r)&&(t[r]=function(){return e.toggleFlag(e.getFlagName(r))})},n=this;for(var i in this.options)r(i);return t.clear=function(){for(var t in e.options)e.options.hasOwnProperty(t)&&e.clearFlag(e.getFlagName(t));e.clearFlag(e.enableIndicatorFlag)},t},e}(),p=function(){function e(e,t,r,n){this.logger=e,this.jQuery=t,this.errorUtils=r,this.featuresManager=n,this.get=r.bindCall(this,this.get,"error getting element parents"),this.useJQueryParent=n.isFeatureEnabled("Abra-Use-JQuery-Parent")}return e.prototype.get=function(e){var t=e.path||e.composedPath&&e.composedPath()||[],r=g.isElement(t[0])?t[0]:e.target;if(!g.isElement(r))throw new Error("unexpected event target type: "+typeof r);return this.getFromElement(r)},e.prototype.getFromElement=function(t){var r,n=[],i=e.MaxClimbCount,o=t;do if(g.isElement(o)&&n.unshift(o),r=o,o=this.getParent(o),--i<=0)throw new Error("ElementParentsGetter loop reached its limit");while(o&&r!==o);return n},e.prototype.getParent=function(e){if(g.isDocument(e))return this.tryGetFrameElement(e);return this.useJQueryParent?this.jQuery(e).parent()[0]:this.getParentElementDefault(e)},e.prototype.getParentElementDefault=function(e){if(e.assignedSlot)return e.assignedSlot;if(e.parentNode)return e.parentNode;if(e.host)return e.host},e.prototype.tryGetFrameElement=function(e){try{var t=e.defaultView||e.parentWindow;if(t&&this.shouldClimbMore(t))return t.frameElement}catch(r){this.logger.error("error getting frame element",r)}},e.prototype.shouldClimbMore=function(e){try{return!e._makeTutorial}catch(t){return!1}},e.MaxClimbCount=1e3,e}();i.registerClass("Abra:ElementParentsGetter",p,"Abra:Logger, wmjQuery, Abra:ErrorUtils, FeaturesManager");var g=function(){function e(){}return e.isElementTextNode=function(e){return e.nodeType===he.Text||e.nodeType===he.CDATASection},e.isVisualDomElement=function(e){var t=e.nodeType===he.Element&&!e.tagName.match(/^(script|style)$/i);return t},e.isElement=function(e){return e&&e.nodeType===he.Element},e.isDocument=function(e){return e&&(e.nodeType===he.Document||e.nodeType===he.DocumentType)},e.getLowerCaseTagName=function(e){return(e.nodeName||e.localName).toLowerCase()},e}(),d=function(){function e(e,t){this.hostData=e,this.jQuery=t}return e.prototype.get=function(e){var t=this.getLabelElement(e);return t&&t.textContent&&ue.trim(t.textContent)},e.prototype.getLabelElement=function(e){var t=e.labels&&e.labels[0];if(t)return t;return this.getLabelElementIePolyfill(e)},e.prototype.getLabelElementIePolyfill=function(t){if((this.hostData.isIE()||this.hostData.isEdge())&&this.jQuery.inArray(g.getLowerCaseTagName(t),e.polyfillElementTypes)!==-1){var r=this.jQuery(t),n=r.attr("id");if(n&&"string"==typeof n){var i=this.jQuery('label[for="'+ue.escapeJQuerySelectorAttributeValue(n)+'"]',t.ownerDocument);if(0!==i.length)return i[0]}return r.closest("label")[0]}},e.polyfillElementTypes=["input","textarea","button","select","output"],e}();i.registerClass("Abra:LabelGetter",d,"HostData, wmjQuery");var f=function(){function e(e,t,r,n,i,o,s,a,u){this.jQuery=e,this.privacyUtils=t,this.textUtils=r,this.logger=n,this.xpathGenerator=i,this.queryGenerator=o,this.labelGetter=s,this.featuresManager=a,this.overlappedText=u,this.textOptions={maxLength:200}}return e.prototype.generate=function(e,t){var r=this.logger.perf("capture"),n={},i={desc:n},o=e.getParents();r.step("getParents");var s=this.privacyUtils.shouldCensorText(o);r.step("shouldCensorText");try{var a=this.generateXpath(e,s);n.xpath=a.xpath,i.xpathParts=a.xpathParts,r.step("generateXpath")}catch(u){this.logger.error("cannot generate xpath",u)}var l=e.getElement(),c=t||l;try{n.autoQuery=this.queryGenerator.generate(c),r.step("generateAutoQuery")}catch(u){this.logger.error("cannot generate autoQuery",u)}if(!s&&(n.label=this.labelGetter.get(c),r.step("getLabel"),!this.privacyUtils.isPrivacyUnsafeElementType(c))){var h=this.getText(c,!0);r.step("getText"),n.text=h.text,h.isOverlapped&&(i.misc={textSource:"overlapped"});var p=this.jQuery(c).val();n.value=p?ue.trim(p.toString(),this.textOptions.maxLength):void 0}return r.stop(),i},e.prototype.generateXpath=function(e,t){var r=e.getParents();return t=void 0!==t?t:this.privacyUtils.shouldCensorText(r),this.xpathGenerator.generate(r,t)},e.prototype.getSelectTagText=function(e){var t=this.jQuery(e),r=t.val();if("string"==typeof r&&r.indexOf("\n")===-1)return t.find('option[value="'+ue.escapeJQuerySelectorAttributeValue(r)+'"]').text()},e.prototype.getElementText=function(e,t){if(void 0===t&&(t=!1),!t&&(this.privacyUtils.isPrivacyUnsafeElementType(e)||this.privacyUtils.shouldCensorText(null,e)))return;if("select"===g.getLowerCaseTagName(e))return this.getSelectTagText(e);return ue.trim(this.textUtils.collectText(e,this.textOptions),this.textOptions.maxLength)},e.prototype.getText=function(e,t){void 0===t&&(t=!1);var r={};if(r.text=this.getElementText(e,t),!r.text&&this.featuresManager.isFeatureEnabled("UbtAddOverlappedText"))try{var n=this.overlappedText.getOverlappedTextElement(e);n&&(r.text=this.getElementText(n,!1),r.isOverlapped=!0)}catch(i){this.logger.error("cannot get overlapped text",i)}return r},e}();i.registerClass("Abra:ElementDescriptionGenerator",f,"wmjQuery, Abra:PrivacyUtils, Abra:TextUtils, Abra:Logger, Abra:XPathGenerator, Abra:QueryGenerator, Abra:LabelGetter, FeaturesManager, Abra:OverlappedText");var v=function(){function e(){}return e.getElementFirstAncestors=function(t){for(var r=[],n=t.parentElement,i=0;n&&i<e.maxDistToParent;)r.push(n),i++,n=n.parentElement;return r},e.isMaxDistanceToCommonAncestorExceeded=function(t,r){var n=t.length-1,i=r.length-1;if(t[n]!==r[i])return!0;for(;n>=0&&i>=0&&t[n]===r[i];)n--,i--;var o=n+2,s=i+2;return o>e.maxDistToParent||s>e.maxDistToParent},e.getElementCenter=function(e){var t=e.getBoundingClientRect(),r=t.left,n=t.right,i=t.top,o=t.bottom;return{x:(n+r)/2,y:(o+i)/2}},e.isPositiveZIndex=function(t){for(var r=t,n=0;r&&n<e.maxDistToParent;){if(parseInt(getComputedStyle(r).zIndex)>0)return!0;n++,r=r.parentElement}return!1},e.getElementsAtPoint=function(e,t,r){if(e.elementsFromPoint)return e.elementsFromPoint(t,r);var n=e.msElementsFromPoint(t,r),i=[];if(null!==n)for(var o=0;o<n.length;o++)i.push(n[o]);return i},e.getElementDescendantsNum=function(t,r){if(void 0===r&&(r=0),r>e.maxDescendants)return 1/0;var n=t.children;if(0===n.length)return 0;var i=n.length;if(r+i>e.maxDescendants)return 1/0;for(var o=0;o<n.length;o++){var s=e.getElementDescendantsNum(n[o],r+i);if(i+=s,r+i>e.maxDescendants)return 1/0}return i},e.isElementHasTooMuchDescendants=function(t){return e.getElementDescendantsNum(t)>e.maxDescendants},e.isElementHasInnerText=function(e){var t=e.innerText;return t&&(t=t.trim()),!!t},e.prototype.getOverlappedTextElement=function(t){if(!e.isPositiveZIndex(t))return;for(var r,n=e.getElementCenter(t),i=n.x,o=n.y,s=e.getElementsAtPoint(t.ownerDocument,i,o),a=e.getElementFirstAncestors(t),u=0;u<s.length&&!r;u++){var l=s[u];if(a.indexOf(l)>-1||l===t)continue;if(!e.isElementHasInnerText(l))continue;var c=e.getElementFirstAncestors(l);if(e.isMaxDistanceToCommonAncestorExceeded(a,c))continue;if(e.isElementHasTooMuchDescendants(l))continue;r=l}return r},e.maxDistToParent=3,e.maxDescendants=6,e}();i.registerClass("Abra:OverlappedText",v);var m=function(){function e(e){this.jQuery=e}return e.prototype.get=function(t){var r=this.jQuery(t),n=void 0,i=!0,o=-1;do{if(r[0].shadowRoot)break;if(o++,"button"===g.getLowerCaseTagName(r[0])){n={type:"button",element:r[0],climb:o};break}if(i===!0){var s=this.getElementCursor(r);this.isPointer(r,s)?n={type:"pointer",element:r[0],climb:o}:i=this.isCursorCouldBePointer(r[0],s)}void 0===n&&this.isStoppableAttribute(r[0])&&(n={type:"attribute",element:r[0],climb:o}),r=r.parent()}while(o<e.MaxClimbCount&&r.prop("nodeType")===he.Element);if(void 0!==n&&n.climb>0&&void 0!==n.element&&n.element!==t)return n},e.prototype.isStoppableAttribute=function(e){if(!e||!e.attributes)return!1;var t=e.attributes.tabIndex;if(t&&t.value&&e.tabIndex>=0)return!0;return t=e.attributes.accesskey,!(!t||!t.value)},e.prototype.getElementCursor=function(e){try{return this.jQuery(e).css("cursor")}catch(t){return"auto"}},e.prototype.isPointer=function(e,t){if("pointer"===t)return!0;if("auto"!==t)return!1;switch(g.getLowerCaseTagName(e[0])){case"a":return void 0!==e.attr("href");default:return!1}},e.prototype.isCursorCouldBePointer=function(t,r){if("pointer"===r)return!0;if("auto"!==r)return!1;return this.jQuery.inArray(g.getLowerCaseTagName(t),e.cursorOverrideNotPointer)===-1},e.cursorOverrideNotPointer=["select","input","button","textarea","video","audio","label"],e.MaxClimbCount=1e3,e}();i.registerClass("Abra:MeaningfulElementGetter",m,"wmjQuery");var b=function(){function e(e,t,r,n,i){this.jQuery=e,this.dataCollectionSettings=t,this.xpathEscaper=r,this.urlCensorshipController=n,this.xpathReducer=i,this.textProperties=_.convertArrayToObject(["name","title"]),this.attributesToCollect=this.getAttributesToCollect(t.get()),this.settings=t.get().element.xpath}return e.prototype.getAttributesToCollect=function(e){var t=e.element&&e.element.attributesToCollect;if(t&&0!==t.length){var r=t.slice();return this.urlCensorshipController.shouldCensorUrl()&&(r=this.filterAttributesByCensorship(r)),r.sort(),r}},e.prototype.filterAttributesByCensorship=function(e){var t=this,r=["src","href"];return this.jQuery.grep(e,function(e){return t.jQuery.inArray(e,r)===-1})},e.prototype.generate=function(e,t){void 0===t&&(t=!1);var r=this.generateXpathParts(e,t),n=this.convertXpathToStringArray(r),i=this.applyXpathLengthLimitation(n).join("");return{xpath:i,xpathParts:r}},e.prototype.generateXpathParts=function(e,t){var r=this;return this.jQuery(e).map(function(e,n){var i=r.jQuery(n);return{tagName:g.getLowerCaseTagName(n),tagIndex:r.getTagIndex(n),classes:r.getClasses(i),id:r.getId(i),attributes:r.getAttributes(i,t)}}).toArray()},e.prototype.getAttributes=function(t,r){var n=this,i=[];return this.attributesToCollect&&this.xpathReducer.shouldCollectAttributesOrClasses(t)&&this.jQuery.each(this.attributesToCollect,function(o,s){if(r&&n.textProperties[s])return;var a=t.attr(s);if(void 0!==a){var u=n.attributesToCollect[o];a.length<=n.settings.attributeMaxLength&&e.shouldCollectAttribute(a)?i.push(_.createKeyValuePair(u,a)):i.push(_.createKeyValuePair(u))}}),i},e.prototype.getClasses=function(t){var r=this,n=[];if(this.xpathReducer.shouldCollectAttributesOrClasses(t)){var i=t.attr("class");i&&(n=this.jQuery.grep(i.split(e.classDelimiter),e.shouldCollectClassOrId),n=this.jQuery.map(n,function(e){return ue.trim(e)}),n=this.jQuery.grep(n,function(e){return e&&e.length<=r.settings.classMaxLength}),n.sort())}return n},e.prototype.getId=function(t){var r=t.attr("id");if(e.shouldCollectClassOrId(r)){var n=ue.trim(r);if(n.length<=this.settings.idMaxLength)return n}},e.prototype.convertXpathToStringArray=function(t){for(var r=this,n=[],i=0;i<t.length;i++){var o=t[i];if(n.push(o.tagName),n.push("["),n.push((o.tagIndex+1).toString()),n.push("]"),o.id&&(n.push("#"),n.push(o.id)),o.classes){var s=this.jQuery.map(o.classes,function(e){return".".concat(e)});n.push.apply(n,s)}if(o.attributes){var a=this.jQuery.map(o.attributes,function(e){return e.value?"&".concat(e.key,"=").concat(r.xpathEscaper.escape(e.value)):"&".concat(e.key)});n.push.apply(n,a)}n.push(e.delimiter)}return n.pop(),n},e.prototype.applyXpathLengthLimitation=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].length;for(var r=0;t>this.settings.xpathMaxLength&&r<e.length;r++){var n=e[r];"."===n[0]&&(t-=n.length,e[r]="")}if(t>this.settings.xpathMaxLength){for(var i=0,o=0,r=0;r<e.length&&0===o;r++){var n=e[r];i+=n.length,"/"===n&&t-i<=this.settings.xpathMaxLength&&(o=r)}e=0!==o?e.slice(o+1):[]}return e},e.prototype.getTagIndex=function(e){for(var t=0,r=e.previousSibling;r;r=r.previousSibling)r.localName===e.localName&&t++;return t},e.shouldCollectClassOrId=function(t){return t&&!e.forbiddenCharsRegex.test(t)},e.shouldCollectAttribute=function(e){return e&&!H.isCreditCard(e)},e.forbiddenCharsRegex=/[&=\.\]\[\/\#]/,e.classDelimiter=/[\s\uFEFF\xA0]+/,e.delimiter="/",e}();i.registerClass("Abra:XPathGenerator",b,"wmjQuery, Abra:DataCollectionSettingsWrapper, Abra:XpathEscaper, Abra:UrlCensorshipController, Abra:XpathReducer");var y=function(){function e(){}return e.prototype.shouldCollectAttributesOrClasses=function(e){if(e&&g.isElement(e[0])){var t=g.getLowerCaseTagName(e[0]);return"html"!==t&&"body"!==t}return!0},e}();i.registerClass("Abra:XpathReducer",y);var C=function(){function e(e,t,r,n,o,s,a,u,l,c,h,p){this.eventBuilder=e,this.eventsSenderWrapper=t,this.eventsTrigger=r,this.logger=n,this.windowIdGetter=o,this.commonEventAttributesProvider=s,this.jQuery=a,this.obfuscator=u,this.textValueCensorship=l,this.collectionIndicator=c,this.webhooksIdsAdder=h,this.shouldEncode=!0,this.shouldEncode=!p.isFeatureEnabled("Abra-DisableEncoding"),i.getCtx().has("CleanObject")&&(this.cleanObject=i.getCtx().get("CleanObject"))}return e.prototype.initiate=function(e){var t=this;if(!this.collectionIndicator.shouldCollect())return;var r=le.now();this.eventBuilder.build(e).then(function(n){return n.time=r,n.ctx=n.ctx||{},t.addTimingData(n),t.addIframeData(n),t.addApplicationData(n),t.addWindowData(n).then(function(){t.substringEvent(n),t.textValueCensorship.censorEvent(e),n=t.jQuery.extend(!0,n,t.commonEventAttributesProvider.get()),t.cleanObject&&(n=t.cleanObject(n)),t.webhooksIdsAdder&&t.webhooksIdsAdder.add(n),t.sendEvent(n)})})["catch"](function(e){t.logger.error("error sending event",e)})},e.prototype.substringEvent=function(e){ue.substringObject(oe.Value,e)},e.prototype.addTimingData=function(e){e.ctx.timing=le.getTimingData()},e.prototype.addWindowData=function(e){return this.windowIdGetter.getOrCreate().then(function(t){e.ctx.winId=t})},e.prototype.addIframeData=function(e){try{V.isIframe()&&(e.ctx.topTitle=V.getTopTitle())}catch(t){}},e.prototype.addApplicationData=function(e){e.version={abra:a.App.version}},e.prototype.sendEvent=function(e){this.eventsSenderWrapper.send(this.shouldEncode?this.obfuscator.encode(e):e),this.eventsTrigger.sync("Abra:EventSent",e),this.logger.debug(e)},e}();i.registerClass("Abra:EventHandler",C,"Abra:EventBuilder, Abra:EventsSenderWrapper, EventsTrigger, Abra:Logger, Abra:WindowIdGetter, CommonEventAttributesProvider, wmjQuery, Abra:EventObfuscator, Abra:TextValueCensorship, Abra:CollectionIndicator, WebhooksIdsAdder, FeaturesManager");var E={active:"active",idle:"idle",pageChange:"pageChange"},x=function(){function e(e,t,r,n,i){this.eventHandler=e,this.userEventListener=t,this.reusableTimerFactory=r,this.errorUtils=n,this.throttle=i,this.delay=6e4,this.isIdle=!1,this.isEnabled=!1,this.throttleIntervalMS=1e3}return e.prototype.load=function(){var e=this;this.timer||(this.timer=this.reusableTimerFactory.create(function(){return e.setIdle()},this.delay),this.registerId=this.userEventListener.register(this.throttle(function(t){return e.setActive(t)},this.throttleIntervalMS),["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit"]),this.timer.set(),this.isEnabled=!0)},e.prototype.unload=function(){this.timer&&(this.userEventListener.unregister(this.registerId),this.timer.clear(),this.isEnabled=!1)},e.prototype.setDelay=function(e){this.delay=e},e.prototype.setThrottleInterval=function(e){this.throttleIntervalMS=e},e.prototype.setActive=function(e){this.isEnabled&&(this.isIdle&&(this.isIdle=!1,this.raiseEvent(E.active,e.getEventType())),this.timer.set())},e.prototype.setIdle=function(){this.isEnabled&&(this.isIdle=!0,this.raiseEvent(E.idle))},e.prototype.raiseEvent=function(e,t){var r=this;this.errorUtils.wrapCallAndLog(function(){r.eventHandler.initiate({event:{type:e,misc:{trigger:t}}})},"error at IdleEventCreator",{type:e,trigger:t})},e}();i.registerClass("Abra:IdleEventCreator",x,"Abra:EventHandler, Abra:UserEventListener, Abra:ReusableTimerFactory, Abra:ErrorUtils, Throttle");var A=function(){function e(e,t,r,n,i,o,s){var a=this;this.userEventListener=e,this.errorUtils=t,this.eventHandler=r,this.reusableTimerFactory=n,this.elementDescriptionGenerator=i,this.textValueCensorship=o,this.collectionIndicator=s,this.isEnabled=!1,this.timer=this.reusableTimerFactory.create(function(){return a.feedEvent()},1e3)}return e.prototype.load=function(){var e=this;this.isEnabled||(this.registerId=this.userEventListener.register(function(t){return e.feedEvent(t)},["keypress"]),this.registerBeforeUnload(),this.isEnabled=!0)},e.prototype.unload=function(){this.isEnabled&&(this.timer.clear(),this.userEventListener.unregister(this.registerId),this.eventData=void 0,this.isEnabled=!1)},e.prototype.feedEvent=function(e){if(!this.isEnabled)return;e&&this.collectionIndicator.shouldCollect()?this.eventData?this.eventData.desc.xpath===this.elementDescriptionGenerator.generateXpath(e).xpath?(this.timer.set(),this.eventData.count++):(this.raiseEvent(),this.createNew(e)):this.createNew(e):this.raiseEvent()},e.prototype.createNew=function(e){this.eventData={desc:this.elementDescriptionGenerator.generate(e).desc,censorshipData:this.textValueCensorship.createCensorshipData(e),count:1,t1:le.now()},this.timer.set()},e.prototype.raiseEvent=function(){this.timer.clear(),this.eventData&&(this.eventHandler.initiate({
event:{type:"keypress",element:this.eventData.desc,misc:{count:this.eventData.count,t1:this.eventData.t1}},data:{censorshipData:this.eventData.censorshipData}}),this.eventData=void 0)},e.prototype.registerBeforeUnload=function(){var e=this,t=window.onbeforeunload;window.onbeforeunload=function(r){if(e.isEnabled&&e.errorUtils.wrapCallAndLog(function(){return e.feedEvent()},"error on onbeforeunload keypress"),t)return t.call(window,r)}},e}();i.registerClass("Abra:KeypressEventCreator",A,"Abra:UserEventListener, Abra:ErrorUtils, Abra:EventHandler, Abra:ReusableTimerFactory, Abra:ElementDescriptionGenerator, Abra:TextValueCensorship, Abra:CollectionIndicator");var w=function(){function e(){}e.getEventNameForListening=function(){return t.eventNameForListening},e.wrapEventNameForSending=function(e){return e===t.pointerdown?t.mousedown:e},e.enablePointerEvent=function(){window.PointerEvent&&(t.eventNameForListening=t.pointerdown)};var t;return t=e,e.mousedown="mousedown",e.pointerdown="pointerdown",e.eventNameForListening=t.mousedown,e}(),T=function(){function e(e,t,r,n,o){var s=this;this.logger=e,this.pageVisitIdProvider=t,this.eventHandler=r,this.pageLoadSync=n,this.eventsListener=o,this.disabledByWalkmePlayer=i.getCtx().has("PageChangeEventSender"),this.eventCallback=function(){return s.distribute()}}return e.prototype.distribute=function(){this.eventHandler.initiate({event:{type:E.pageChange}})},e.prototype.load=function(){if(this.disabledByWalkmePlayer)return;this.pageLoadSync.initializationData&&(this.pageVisitIdProvider.get()!==this.pageLoadSync.initializationData.id&&this.logger.error("Data inconsistency in pageVisitId"),this.distribute()),this.eventsListener.on("PageVisitIdUpdated",this.eventCallback)},e.prototype.unload=function(){if(this.disabledByWalkmePlayer)return;this.eventsListener.off("PageVisitIdUpdated",this.eventCallback)},e}();i.registerClass("Abra:PageInfoCreator",T,"Abra:Logger, PageVisitIdProvider, Abra:EventHandler, Abra:PageLoadSync, EventsListener");var I=function(){function e(){}return e.enable=function(e){e.get("EventsListener").once("EventSenderContextDataProviderReferrerEnablement",function(){return!0})},e}(),S=function(){function e(e,t){this.jQuery=e,this.compatibilityUtils=t,this.initBindingFunctions()}return e.prototype.initBindingFunctions=function(){var e;i.getCtx().has("NativeEventListenerFunctionsProvider")&&(e=i.getCtx().get("NativeEventListenerFunctionsProvider").get()),e=e||{},this.addEventListener=e.addEventListener||document.addEventListener,this.removeEventListener=e.removeEventListener||document.removeEventListener},e.prototype.bindEvents=function(e,t,r){var n=this,i=function(t){return n.jQuery(e).on("".concat(t,".abra"),r)},o=i;this.compatibilityUtils.isCaptureBindCompatible()&&(o=function(t){try{n.addEventListener.apply(e,[t,r,!0])}catch(o){i(t)}}),this.jQuery.each(t,function(e,t){o(t)})},e.prototype.unbindEvents=function(e,t,r){var n=this,i=function(t){try{n.removeEventListener.apply(e,[t,r,!0]),n.jQuery(e).off("".concat(t,".abra"),r)}catch(i){}};this.jQuery.each(t,function(e,t){i(t)})},e}();i.registerClass("Abra:UserEventBinder",S,"wmjQuery, Abra:CompatibilityUtils");var L=function(){function e(e,t,r,n,i,o,s,a,u,l){this.userEventListener=e,this.eventHandler=t,this.elementDescriptionGenerator=r,this.jQuery=i,this.errorUtils=o,this.textValueCensorship=s,this.collectionIndicator=a,this.eventThrottle=u,this.trackedElementsFilter=l,this.generateElementDescription=this.errorUtils.bindCall(this.elementDescriptionGenerator,this.elementDescriptionGenerator.generate,"element capture"),this.meaningfulElementGetter=this.errorUtils.bindCall(this,function(e,t){if("mousedown"===e||"dblclick"===e)return n.get(t)},"meaningful element")}return e.prototype.createEvent=function(e){if(!this.collectionIndicator.shouldCollect())return;var t=e.getElement(),r=e.getEventType();if(!t||!this.shouldCreateEvent(t,r))return;var n,i=this.meaningfulElementGetter(r,t);i&&(n={type:i.type,climb:i.climb});var o=i?i.element:t,s=this.generateElementDescription(e,o),a=s.desc,u=s.misc,l=s.xpathParts;u&&(n=this.jQuery.extend(u,n));var c=l&&this.trackedElementsFilter.shouldSend(e,a,l);if(!c||!c.result)return;if(this.eventThrottle.shouldThrottle(a,r))return;this.eventHandler.initiate({event:{type:r,element:a,misc:n,reason:c.reason},data:{event:e,censorshipData:this.textValueCensorship.createCensorshipData(e)}})},e.prototype.shouldCreateEvent=function(t,r){if(this.jQuery.inArray(g.getLowerCaseTagName(t),e.BlockedTags)!==-1)return!1;if(this.jQuery.inArray(r,["mousedown","dblclick"])!==-1&&t.textContent&&t.textContent.length>e.MaxTextContent)return!1;return!0},e.prototype.load=function(){var e=this;this.registerId=this.userEventListener.register(function(t){return e.createEvent(t)},["change",w.getEventNameForListening(),"dblclick","submit"])},e.prototype.unload=function(){this.userEventListener.unregister(this.registerId)},e.BlockedTags=["html","body"],e.MaxTextContent=250,e}();i.registerClass("Abra:UserEventCreator",L,"Abra:UserEventListener, Abra:EventHandler, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, wmjQuery, Abra:ErrorUtils, Abra:TextValueCensorship, Abra:CollectionIndicator, Abra:EventThrottle, Abra:TrackedElementsFilter");var P=function(){function e(e,t,r,n){var i=this;this.userEventBinder=e,this.frameBinder=t,this.errorUtils=r,this.userEventWrapper=n,this.runningCallbackId=-1,this.distributeMap={},this.unregisterData={},this.enabled=!0,this.mainCallback=function(e){return i.distribute(e)}}return e.prototype.register=function(e,t){for(var r=++this.runningCallbackId,n=[],i=0;i<t.length;i++){var o=t[i];this.distributeMap[o]?this.distributeMap[o].push(e):(this.distributeMap[o]=[e],n.push(o))}return this.bind(n,this.mainCallback),this.unregisterData[r]={callback:e,events:t},r},e.prototype.unregister=function(e){var t=this.unregisterData[e];if(!t)return!1;for(var r=[],n=0;n<t.events.length;n++)for(var i=t.events[n],o=this.distributeMap[i],s=0;s<o.length;s++)if(o[s]===t.callback){o.splice(s,1),0===o.length&&(r.push(i),delete this.distributeMap[i]);break}return this.unbind(r,this.mainCallback),delete this.unregisterData[e],!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.distribute=function(e){var t=this;if(this.enabled)for(var r=this.distributeMap[e.type]||[],n=function(n){i.errorUtils.wrapCallAndLog(function(){return r[n](t.userEventWrapper.wrap(e))},"error distributing event",{trigger:e.type})},i=this,o=0;o<r.length;o++)n(o)},e.prototype.bind=function(e,t){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.bindEvents(n,e,t)})},e.prototype.unbind=function(e,t){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.unbindEvents(n,e,t)})},e}();i.registerClass("Abra:UserEventListener",P,"Abra:UserEventBinder, Abra:FrameBinder, Abra:ErrorUtils, Abra:UserEventWrapper");var D=function(){function e(e){this.elementParentsGetter=e}return e.prototype.wrap=function(e){return new F(this.elementParentsGetter,e)},e}(),F=function(){function e(e,t){this.elementParentsGetter=e,this.event=t}return e.prototype.getParents=function(){return this.parents=this.parents||this.elementParentsGetter.get(this.event),this.parents},e.prototype.getElement=function(){var e=this.getParents();return e[e.length-1]},e.prototype.getEvent=function(){return this.event},e.prototype.getEventType=function(){return w.wrapEventNameForSending(this.event.type)},e}();i.registerClass("Abra:UserEventWrapper",D,"Abra:ElementParentsGetter");var M=function(){function e(e){this.jQuery=e}return e.prototype.get=function(){var e=this;return{classInElementTree:function(t,r){return e.classInElementTree(t,r)},idInElementTree:function(t,r){return e.idInElementTree(t,r)}}},e.prototype.classInElementTree=function(e,t){if(e.compiled||(e.compiled=this.convertClassArrayToRegex(e.values)),e.values.length>0)for(var r=t.length-1;r>=0;r--){var n=this.jQuery(t[r]).attr("class");if(n&&e.compiled.test(n))return!0}return!1},e.prototype.convertClassArrayToRegex=function(e){var t=[];return this.jQuery.each(e,function(e,r){var n=ue.escapeRegExp(r);t.push("(^|[\\s\\uFEFF\\xA0]{1})".concat(n,"($|[\\s\\uFEFF\\xA0]{1})"))}),new RegExp(t.join("|"),"i")},e.prototype.idInElementTree=function(e,t){if(e.values.length>0&&this.isIdsExistInElementArray(t,e.values))return!0;return!1},e.prototype.isIdsExistInElementArray=function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<t.length;n++)if(e[r].id===t[n])return!0;return!1},e}();i.registerClass("Abra:CensorshipConditionsGetter",M,"wmjQuery");var O=function(){function e(e,t,r,n){this.jQuery=e,this.logger=t,this.censorshipRules=this.getCensorshipRules(n.get()),this.conditionDictionary=r.get()}return e.prototype.hasCensorshipRules=function(){return this.censorshipRules.length>0},e.prototype.getCensorshipRules=function(e){var t=e&&e.element&&e.element.censorshipRules;return t||[]},e.prototype.provide=function(e){for(var t={},r=this.censorshipRules.length-1;r>=0;r--)if(this.conditionDictionary[this.censorshipRules[r].type]){if(this.conditionDictionary[this.censorshipRules[r].type](this.censorshipRules[r],e)){var n=this.censorshipRules[r].methods;n&&n.length>0&&this.jQuery.each(n,function(e,r){t[r]=!0})}}else this.logger.error("censorship type does not exist: ".concat(this.censorshipRules[r].type));return t},e}();i.registerClass("Abra:CensorshipMethodsProvider",O,"wmjQuery, Abra:Logger, Abra:CensorshipConditionsGetter, Abra:DataCollectionSettingsWrapper");var j=function(){function e(e){this.privacyUtils=e,this.propertiesToIgnore=_.convertArrayToObject(["xpath"])}return e.prototype.censorEvent=function(e){var t=e.event;if(t.element){if(this.privacyUtils.removeInputValues&&("keypress"===t.type||"change"===t.type)){var r=e.data&&e.data.censorshipData&&e.data.censorshipData.tagName;"select"!==r&&(t.element.value=void 0,t.element.text=void 0)}t.element=this.privacyUtils.filterCreditCard(t.element,this.propertiesToIgnore)}},e.prototype.createCensorshipData=function(e){return{tagName:g.getLowerCaseTagName(e.getElement())}},e}();i.registerClass("Abra:TextValueCensorship",j,"Abra:PrivacyUtils");var k;!function(e){e[e.Creating=0]="Creating",e[e.Altering=1]="Altering",e[e.Finalizing=1e3]="Finalizing"}(k||(k={}));var U=function(){function e(e,t,r){this.promiseManager=e,this.jQuery=t,this.logger=r,this.providers=[],this.providersCount=0}return e.prototype.build=function(t){var r=this;if(0===this.providersCount)return this.promiseManager.resolve(t.event);return this.jQuery(e.ProvidersTypeOrder).reduce(function(e,n){return e.then(function(){return r.runProvidersGroup(t,r.providers[n])})},this.promiseManager.resolve()).then(function(){return t.event})},e.prototype.runProvidersGroup=function(e,t){var r=this,n=[];if(t)for(var i=function(i){var s=t[i];try{var a=s.handler(e);if(a){var u=a["catch"](function(e){r.logger.error("failed to run provider",e,{providerName:s.name,promise:!0})});n.push(u)}}catch(l){o.logger.error("failed to run provider",l,{providerName:s.name})}},o=this,s=0;s<t.length;s++)i(s);return this.promiseManager.all(n)},e.prototype.register=function(e,t,r){void 0===r&&(r=k.Creating),this.providers[r]=this.providers[r]||[],this.providers[r].push({name:e,handler:t}),this.providersCount++},e.ProvidersTypeOrder=[k.Creating,k.Altering,k.Finalizing],e}();i.registerClass("Abra:EventBuilder",U,"PromiseManager, wmjQuery, Abra:Logger");var N=function(){function e(){this.throttleTTL=6e4,this.cache={}}return e.prototype.shouldThrottle=function(e,t){var r=le.now();return!!this.existsInCache(e,t,r)||(this.saveToCache(e,t,r),!1)},e.prototype.existsInCache=function(e,t,r){var n=this.cache[t];return n&&r<=n.time+this.throttleTTL&&e.xpath===n.description.xpath&&e.value===n.description.value&&e.text===n.description.text&&e.label===n.description.label},e.prototype.saveToCache=function(e,t,r){var n={xpath:e.xpath,value:e.value,text:e.text,label:e.label};this.cache[t]={description:n,time:r}},e.prototype.setThrottleTTL=function(e){this.throttleTTL=e},e}();i.registerClass("Abra:EventThrottle",N);var Q=function(){function e(e){this.walkme=e}return e.prototype.isCaptureBindCompatible=function(){var e=this.walkme.getHostData();return e.isIE(9,"gte")||!e.isIE()},e}();i.registerClass("Abra:CompatibilityUtils",Q,"Abra:Walkme");var G=function(){function e(e,t,r){this.promiseManager=e,this.jQuery=t,this.logger=r}return e.prototype.wrapCatch=function(e){var t=this;return function(r){return t.promiseManager.reject(t.wrapError(r,e))}},e.prototype.wrapCall=function(e,t){try{return e()}catch(r){throw this.wrapError(r,t)}},e.prototype.bindCall=function(e,t,r){void 0===e&&(e=null);var n=this;return function(){try{return t.apply(e,arguments)}catch(i){throw n.wrapError(i,r)}}},e.prototype.wrapCallAndLog=function(e,t,r){try{return e()}catch(n){n=this.wrapError(n,r),this.logger.error(t,n,n.extraData)}},e.prototype.wrapError=function(e,t){var r="string"==typeof e?{message:e}:e||{message:"no error provided"};return t="string"!=typeof t?t||{}:{failPoint:t},r.extraData=this.jQuery.extend(t,r.extraData),r},e}();i.registerClass("Abra:ErrorUtils",G,"PromiseManager, wmjQuery, Abra:Logger");var W=function(){function e(e){this.eventsSenderFactory=e}return e.prototype.init=function(e){var t={name:"Abra",postEventAction:"/event/tell",storageConfig:{keyName:e,autoSave:!1,expiresSeconds:600},stagingStorageConfig:{keyName:e+"-s",autoSave:!1,expiresSeconds:600},failureStorageConfig:{keyName:e+"-f",autoSave:!0,expiresSeconds:86400},storageType:"session",dataSender:"accumulation",clientStorageManager:"ArrayBuffer",clientStagingStorageManager:"ArrayBuffer"};this.sender=this.eventsSenderFactory.generateAndGetEventsSender(t),this.sender.enable()},e.prototype.disable=function(){this.sender&&(this.sender.sleep(),this.sender.disable(),this.sender=void 0)},e.prototype.send=function(e){this.sender&&this.sender.send(e)},e}();i.registerClass("Abra:EventsSenderWrapper",W,"EventsSenderFactory");var R=function(){function e(e,t,r,n){this.iFramesManager=e,this.uIChangeTracker=t,this.featuresManager=r,this.logger=n}return e.prototype.load=function(){var t=this;if(this.isSpa()||this.iFramesManager.mapIframes(),this.featuresManager.isFeatureEnabled("Abra-ObserveIframes"))try{this.iframeObserver=new z(e.IframeObserverMaxDrillDown),this.iframeObserver.observe(function(){t.iFramesManager.remapTopIframes()},function(e){t.logger.error("iframe mutation observer callback error",e)})}catch(r){this.logger.error("error observing iframe mutations",r)}},e.prototype.unload=function(){this.iframeObserver&&(this.iframeObserver.disconnect(),this.iframeObserver=void 0)},e.prototype.forEach=function(e){var t=this;e(document);try{var r=function(r){var n=r.documentAccessible&&t.getDocument(r.iframe);n&&e(n)};this.iFramesManager.foreachIframe(r,!0),this.iFramesManager.onIframeLoad(r)}catch(n){}},e.prototype.getDocument=function(e){try{var t=e.contentWindow&&e.contentWindow.document;return t=t||e.contentWindow&&e.contentWindow.window&&e.contentWindow.window.document,t=t||e.contentDocument}catch(r){}},e.prototype.isSpa=function(){return this.uIChangeTracker.isActivated()},e.IframeObserverMaxDrillDown=3,e}();i.registerClass("Abra:FrameBinder",R,"IFramesManager, UIChangeTracker, FeaturesManager, Abra:Logger");var B,V=function(){function e(){}return e.isIframe=function(){return top!==window},e.getTopTitle=function(){return top.window.document.title},e}();!function(e){function t(e){var t=!1;return function(){if(!t)return t=!0,e()}}e.allowOnce=t}(B||(B={}));var _,z=function(){function e(e){this.maxDrillDown=e}return e.prototype.observe=function(e,t){var r=this,n=window.MutationObserver;if(n){var i={attributes:!1,childList:!0,subtree:!0};this.observer=new n(function(n){try{r.wasIframeAdded(n)&&e()}catch(i){t(i)}}),this.observer.observe(document,i)}},e.prototype.disconnect=function(){this.observer.disconnect()},e.prototype.wasIframeAdded=function(t){for(var r=0;r<t.length;r++){var n=t[r];if("childList"==n.type)for(var i=n.addedNodes,o=0;o<i.length;o++)if(e.isParentNodeContainsIframe(i[o],this.maxDrillDown))return!0}return!1},e.isParentNodeContainsIframe=function(t,r){if(t&&(t.nodeType===he.Element||t.nodeType===he.DocumentType||t.nodeType===he.Document||t.nodeType===he.DocumentFragment)){if("IFRAME"===t.nodeName)return!0;var n=t.children;if(r>0&&n)for(var i=0;i<n.length;i++)if(e.isParentNodeContainsIframe(n[i],r-1))return!0}return!1},e}();!function(e){function t(e,t){return{key:e,value:t}}e.createKeyValuePair=t;function r(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}e.convertArrayToObject=r;function n(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=r;return t}e.convertArrayToValueIndexMap=n}(_||(_={}));var H=function(){function e(e,t,r,n,i){this.jQuery=e,this.censorshipMethodsProvider=t,this.elementParentsGetter=r,this.featuresManager=n,this.dataCollectionSettings=i,this.allowedInputTypes=["radio","checkbox","button","reset","submit"],this.removeInputValues=!0,this.censorAllText=!1;var o=i.get();this.removeInputValues="collect"!==(o&&o.element&&o.element.inputValues),this.removeInputValues||(this.allowedInputTypes=e.merge(this.allowedInputTypes,["text","search","number","tel","email","url"])),n.isFeatureEnabled("UbtNoText")&&(this.censorAllText=!0)}return e.prototype.isPrivacyUnsafeElementType=function(e){if(e.nodeType===he.Element&&e.tagName){if(this.removeInputValues&&"true"===this.jQuery(e).attr("contenteditable"))return!0;var t=g.getLowerCaseTagName(e);if(this.removeInputValues&&"textarea"===t)return!0;if("input"===t){var r=(e.type||"").toLowerCase();if(this.jQuery.inArray(r,this.allowedInputTypes)!==-1)return!1;return!0}}return!1},e.prototype.filterCreditCard=function(t,r){if(void 0===r&&(r={}),t){var n=typeof t;if("object"===n)if("number"!=typeof t.length||t.propertyIsEnumerable("length"))for(var i in t)t.hasOwnProperty(i)&&!r[i]&&(t[i]=this.filterCreditCard(t[i]));else for(var o=t.length-1;o>=0;o--)t[o]=this.filterCreditCard(t[o]);else if("string"===n&&t.length>=12){if(e.isCreditCard(t))return null}else if("number"===n&&t>=99999999999)return null}return t},e.isCreditCard=function(e){return e.length>=12&&this.creditCardRegex.test(e)},e.prototype.shouldCensorText=function(e,t){if(this.censorAllText)return!0;if(this.censorshipMethodsProvider.hasCensorshipRules())return e=e||this.elementParentsGetter.getFromElement(t),this.censorshipMethodsProvider.provide(e).removeTextValues;return!1},e.creditCardRegex=/(?:[\s\xA0-]{0,5}\d{4,}){3}/,e}();i.registerClass("Abra:PrivacyUtils",H,"wmjQuery, Abra:CensorshipMethodsProvider, Abra:ElementParentsGetter, FeaturesManager, Abra:DataCollectionSettingsWrapper");var X=function(){function e(){}return e.prototype.gamble=function(e){return Math.random()<=e},e}();i.registerClass("Abra:StatisticsUtils",X);var J=function(){function e(e){this.walkmeCommonUtils=e}return e.prototype.stringify=function(e){return this.walkmeCommonUtils.toJSON(e)},e.prototype.parse=function(e){return this.walkmeCommonUtils.secureEvalJSON(e)},e}();i.registerClass("Abra:JSON",J,"CommonUtils");var K=function(){function e(e,t,r,n,i){var o=this;this.storageManager=e,this.promiseManager=t,this.guidGenerator=r,this.sessionPersister=n,this.jQuery=i,this.libCallback=function(){return o.createNew()}}return e.prototype.load=function(){if(this.jQuery(a.WalkmeInternals).on(e.LibNewSessionEventName,this.libCallback),this.sessionPersister.isNewSession())return this.promiseManager.resolve(this.createNew());return this.getOrCreate()},e.prototype.unload=function(){this.jQuery(a.WalkmeInternals).off(e.LibNewSessionEventName,this.libCallback)},e.prototype.getOrCreate=function(){var e=this;return this.get().then(function(t){return t||e.createNew()})},e.prototype.get=function(){var t=this;return new this.promiseManager.Promise(function(r){t.storageManager.getStorage().getData(e.WindowIdStorageKey,void 0,void 0,function(e){r(e)})})},e.prototype.createNew=function(){var t=this.guidGenerator.generateGuid(!0);return this.storageManager.getStorage().saveData(e.WindowIdStorageKey,t),t},e.WindowIdStorageKey="__WMML_SESSION_ID__",e.LibNewSessionEventName="NewSession",e}();i.registerClass("Abra:WindowIdGetter",K,"Abra:StorageManager, PromiseManager, GuidGenerator, SessionPersister, wmjQuery");var q=function(){function e(e){this.customerLog=e.wrapCustomerLog("Abra")}return e.prototype.error=function(e,t){this.logError(1,e,t)},e.prototype.warn=function(e,t){this.logError(2,e,t)},e.prototype.info=function(e){this.log(3,e)},e.prototype.debug=function(e){this.log(4,e)},e.prototype.logError=function(e,t,r){var n=r&&r.stack||(r&&r.length?r:"");this.customerLog("".concat(t,": ").concat(n),e)},e.prototype.log=function(e,t){this.customerLog(t,e)},e}(),$=function(e){n(t,e);function t(t,r,n,o,s,a){var u=e.call(this,n)||this;u.serverLogger=t,u.ubtPerformance=r,u.walkmeLogger=n,u.walkMeInfo=o,u.featuresManager=s,u.wmjQuery=a,u.enableServerLogger=!0;try{u.libVersion=o.getLibVersion(),s.isFeatureEnabled("UbtReduceServerLogs")&&Math.random()>.05&&(u.enableServerLogger=!1),i.getCtx().has("CleanObject")&&(u.cleanObject=i.getCtx().get("CleanObject"))}catch(l){}return u}return t.registerLogger=function(e){var r="Abra:Logger";return e.has(r)||e.register(r).asCtor(t).dependencies("EventSenderErrorLogger, Abra:UbtPerformance, Logger, WalkMeInfo, FeaturesManager, wmjQuery"),e.get(r)},t.prototype.error=function(t,r,n){void 0===n&&(n={}),n.app=a.App.name,n.version=a.App.version,n.rev=a.App.rev,n.libVersion=this.libVersion,r&&("string"==typeof r?n.errorMsg=r:(r.message||r.stack||r.extraData)&&(n.errorMsg=r.message,n.stack=r.stack,n=r.extraData?this.wmjQuery.extend(n,r.extraData):n)),void 0===n.errorMsg&&void 0!==r&&(n.errorMsg='could not get errorMsg, error type is "'+typeof r+'"'),this.cleanObject&&(n=this.cleanObject(n)),this.enableServerLogger&&this.serverLogger.logError(t,n),e.prototype.error.call(this,t,r)},t.prototype.perf=function(e){return this.ubtPerformance.perf(e)},t}(q),Z=function(){function e(e){this.performanceLogger=e,this.perfOptions=this.createPerfOptions()}return e.prototype.createPerfOptions=function(){return{extraData:{app:a.App.name,version:a.App.version,gitRevision:a.App.rev}}},e.prototype.perf=function(e){var t=this.performanceLogger.measure("".concat(a.App.name,"-").concat(e),this.perfOptions);return{stop:function(){return t&&t.stop()},step:function(e){}}},e}(),Y=function(){function e(e,t,r){if(this.logger=e,this.settings={},i.getCtx().has("DataCollectionSettings")){var n=i.getCtx().get("DataCollectionSettings").get();this.settings=t.extend(!0,{},n),r.gamble(.02)&&this.validateSettings(this.settings)}this.settings.element=this.settings.element||{},this.applyCensorshipDefaults(),this.applyXpathDefaults()}return e.prototype.validateSettings=function(e){e.element||e.page||e.loading||this.logger.error("Collection settings are missing, using default")},e.prototype.applyCensorshipDefaults=function(){this.settings.element.censorshipRules=this.settings.element.censorshipRules||[],this.settings.element.censorshipRules.push({type:"classInElementTree",values:["jaco-hide","wm-hide"],methods:["removeTextValues"]})},e.prototype.applyXpathDefaults=function(){this.settings.element.xpath=this.settings.element.xpath||{},this.settings.element.xpath.classMaxLength=this.settings.element.xpath.classMaxLength||35,this.settings.element.xpath.idMaxLength=this.settings.element.xpath.idMaxLength||40,this.settings.element.xpath.attributeMaxLength=this.settings.element.xpath.attributeMaxLength||300,this.settings.element.xpath.xpathMaxLength=this.settings.element.xpath.xpathMaxLength||3e3},e.prototype.get=function(){return this.settings},e}();i.registerClass("Abra:DataCollectionSettingsWrapper",Y,"Abra:Logger, wmjQuery, Abra:StatisticsUtils");var ee=function(){function e(e,t){this.dataCollectionSettings=e,this.featuresManager=t,this.result=void 0}return e.prototype.shouldCensorUrl=function(){return void 0===this.result&&(this.result=this.checkCollectionSettings()||this.checkLegacyFlags()),this.result},e.prototype.checkCollectionSettings=function(){var e=this.dataCollectionSettings.get();return!!(e&&e.page&&e.page.censorship&&e.page.censorship.url)},e.prototype.checkLegacyFlags=function(){return this.featuresManager.isFeatureEnabled("disableWidgetOpenFullUrl")||this.featuresManager.isFeatureEnabled("dontSendPageUrl")},e}();i.registerClass("Abra:UrlCensorshipController",ee,"Abra:DataCollectionSettingsWrapper, FeaturesManager");var te=function(){function e(e){this.storage=e}return e.prototype.getData=function(e,t,r,n){this.storage.sessionGetData(e,t,r,n)},e.prototype.saveData=function(e,t){this.storage.sessionSetData(e,t)},e}(),re=function(){function e(){}return e.prototype.getData=function(e,t,r,n){n(sessionStorage[e]||t)},e.prototype.saveData=function(e,t){sessionStorage[e]=t},e}(),ne=function(){function e(e){this.walkme=e,this.isCrossDomain()?this.storage=new te(this.walkme.getClientStorageManager()):this.storage=new re}return e.prototype.isCrossDomain=function(){var e=this.walkme.getStorageType();if(e.indexOf("crossdomain")!==-1)return!0;return!1},e.prototype.getStorage=function(){return this.storage},e}();i.registerClass("Abra:StorageManager",ne,"Abra:Walkme");var ie=function(){function e(e,t){this.promiseManager=e,this.storageManager=t}return e.prototype.getStorageKey=function(){var t=this;return new this.promiseManager.Promise(function(r){V.isIframe()?t.storageManager.getStorage().getData(e.StorageNumberKey,1,void 0,function(n){t.storageManager.getStorage().saveData(e.StorageNumberKey,Number(n)+1),r("wm-dc-storage"+n)}):r("wm-dc-storage0")})},e.StorageNumberKey="__WMML_STORAGE_NUM__",e}();i.registerClass("Abra:StorageSynchronizer",ie,"PromiseManager, Abra:StorageManager");var oe=function(){function e(){}return e.Value={element:{autoQuery:500,text:500,value:120},ctx:{topTitle:512}},e}(),se=function(){function e(){this.buffer=[]}return e.prototype.append=function(e){this.buffer.push(e)},e.prototype.toString=function(){var e=this.buffer.join("");return e},e}(),ae=function(){function e(){}return e.escapeSurrogatePairs=function(t){if(!e.containsSurrogatePair(t))return t;for(var r=-1,n=t.length,i=new se;++r<n;){var o=t.charAt(r);/[\uD800-\uDBFF]/.test(o)||/[\uDC00-\uDFFF]/.test(o)?i.append(e.escapeChar(o)):i.append(o)}return i.toString()},e.containsSurrogatePair=function(e){var t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=t.exec(e)},e.escapeChar=function(e){var t=e.charCodeAt(0),r=t.toString(16).toUpperCase(),n=r.length>2,i="\\"+(n?"u":"x")+("0000"+r).slice(n?-4:-2);return i},e}(),ue=function(){function e(e){this.privacyUtils=e}return e.substringObject=function(t,r){if(t&&r&&"object"==typeof r)for(var n in t)if(t.hasOwnProperty(n)&&r.hasOwnProperty(n)){var i=typeof r[n];"string"===i&&"number"==typeof t[n]?r[n]=r[n].substring(0,t[n]):"object"===i&&(r[n]=e.substringObject(t[n],r[n]))}return r},e.trim=function(e,t){if(void 0!==t)return e.replace(/^[\s\uFEFF\xA0]+/g,"").substr(0,t).replace(/[\s\uFEFF\xA0]+$/g,"");return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.removeExtraSpaces=function(e){var t=/\s+/g;return e.replace(t," ").trim()},e.extractElementText=function(t){var r=t.nodeValue;return r&&(r=e.removeExtraSpaces(r),r=ae.escapeSurrogatePairs(r)),r},e.prototype.collectText=function(e,t){var r={textBuffer:[],totalLength:0,active:!0};this.collectTextInner(e,t,r);var n=r.textBuffer.join("\n");return void 0!==t.maxLength&&n.length>t.maxLength&&(n=n.substring(0,t.maxLength)),n},e.prototype.collectTextInner=function(t,r,n){if(t&&!this.privacyUtils.isPrivacyUnsafeElementType(t)){if(g.isElementTextNode(t)){var i=e.extractElementText(t);if(i&&0!==i.length){void 0!==r.maxNodeTextLength&&(i=i.substring(0,r.maxNodeTextLength));var o=!1;void 0!==r.textFilterCb&&(o=r.textFilterCb(i,t.nodeValue)!==!0),o===!1&&(n.textBuffer.push(i),n.totalLength+=i.length,(void 0!==r.maxLength&&n.totalLength>=r.maxLength||r.collectFirstOnly===!0)&&(n.active=!1))}}var s=!1;if(r.includeNonVisual!==!0&&(s=g.isVisualDomElement(t)===!1),t.childNodes&&n.active&&s===!1)for(var a=0,u=t.childNodes.length;a<u&&n.active;a++)this.collectTextInner(t.childNodes[a],r,n)}},e.escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e.escapeJQuerySelectorAttributeValue=function(e){return e.replace(this.escapeJQuerySelectorAttributeValueRegex,'\\"')},e.escapeJQuerySelectorAttributeValueRegex=/"/g,e}();i.registerClass("Abra:TextUtils",ue,"Abra:PrivacyUtils");var le=function(){function e(e,t){this.timerManager=e,this.errorUtils=t,this.enabled=!0}return e.prototype.clearTimeout=function(e){e&&e.clear()},e.prototype.disable=function(){this.enabled=!1},e.prototype.setTimeout=function(e,t){var r=this;if(this.enabled)return this.timerManager.libSetTimeout(function(){return r.enabled&&r.errorUtils.wrapCallAndLog(e,"timeout")},t)},e.prototype.createOnNextEventLoopFunc=function(e){var t=this;return function(){t.timerManager.libSetTimeout(e,0)}},e.now=function(){return(new Date).getTime()},e.getTimingData=function(){var e=window.performance,t=e&&e.timing;if(t){var r=t.navigationStart,n=t.loadEventEnd;return{navStart:r,loadTime:n-r}}},e}();i.registerClass("Abra:TimingUtils",le,"TimerManager, Abra:ErrorUtils");var ce=function(){function e(e){this.timingUtils=e}return e.prototype.create=function(e,t){return new pe(this.timingUtils,e,t)},e}();i.registerClass("Abra:ReusableTimerFactory",ce,"Abra:TimingUtils");var he,pe=function(){function e(e,t,r){this.timingUtils=e,this.callback=t,this.delay=r}return e.prototype.clear=function(){this.timerHandle&&(this.timingUtils.clearTimeout(this.timerHandle),this.timerHandle=void 0)},e.prototype.set=function(){this.clear(),this.timerHandle=this.timingUtils.setTimeout(this.callback,this.delay)},e}();!function(e){e[e.Element=1]="Element",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection",e[e.DocumentType=9]="DocumentType",e[e.Document=10]="Document",e[e.DocumentFragment=11]="DocumentFragment"}(he||(he={}));var ge;!function(e){e[e.TrackedEvent=1]="TrackedEvent",e[e.Sampling=2]="Sampling"}(ge||(ge={}));var de=function(){function e(e,t){this.statisticsUtils=e,this.isEnabledFlag=!1,this.chance=0;var r,n=t.getSync();n&&n.trackedEventsWhitelist&&n.trackedEventsWhitelist.settings&&(r=n.trackedEventsWhitelist.settings.sampleRate),"number"==typeof r&&r>0&&(this.chance=1/r,this.isEnabledFlag=!0)}return e.prototype.shouldSample=function(){return this.isEnabledFlag&&this.statisticsUtils.gamble(this.chance)},e.prototype.isEnabled=function(){return this.isEnabledFlag},e}();i.registerClass("Abra:EventSampler",de,"Abra:StatisticsUtils, Abra:InsightsConfigurationGetter");var fe=function(){function e(e,t,r,n){this.jQuery=e,this.trackedElementsGetter=t,this.eventSampler=r,this.logger=n}return e.prototype.shouldSend=function(t,r,n){var i=t.getEventType();if("mousedown"!==i&&"change"!==i&&"dblclick"!==i)return e.Results.Collect;var o=this.trackedElementsGetter.get(i);if(!o&&!this.eventSampler.isEnabled())return e.Results.Collect;if(o&&this.isWhitelistConditionsApply(t,r,n,o))return e.Results.TrackedEvent;if(this.eventSampler.shouldSample())return e.Results.Sampling;return e.Results.DoNotCollect},e.prototype.isWhitelistConditionsApply=function(e,t,r,n){me.prepareOptimizationObject(n);var i=this.logger.perf("whitelist filter");i.step("ids and classes");for(var o=r.length-1;o>=0;o--){var s=r[o];if(s.id){if(n.ids&&n.ids[s.id])return!0;n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.ids&&void 0!==n._selectorsOptimization.usedInSelectors.ids[s.id]&&(n._selectorsOptimization.existInXpath.ids[n._selectorsOptimization.usedInSelectors.ids[s.id]]=!0)}for(var a=0;a<s.classes.length;a++){if(n.classes&&n.classes[s.classes[a]])return!0;n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.classes&&void 0!==n._selectorsOptimization.usedInSelectors.classes[s.classes[a]]&&(n._selectorsOptimization.existInXpath.classes[n._selectorsOptimization.usedInSelectors.classes[s.classes[a]]]=!0)}if(n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.tags&&void 0!==n._selectorsOptimization.usedInSelectors.tags[s.tagName]&&(n._selectorsOptimization.existInXpath.tags[n._selectorsOptimization.usedInSelectors.tags[s.tagName]]=!0),
n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.attributes)for(var a=0;a<s.attributes.length;a++)void 0!==n._selectorsOptimization.usedInSelectors.attributes[s.attributes[a].key]&&(n._selectorsOptimization.existInXpath.attributes[n._selectorsOptimization.usedInSelectors.attributes[s.attributes[a].key]]=!0)}if(i.step("text"),t&&t.text&&n.text&&n.text[t.text])return!0;if(i.step("labels"),t&&t.label&&n.labels&&n.labels[t.label])return!0;if(i.step("selectors"),n.selectors)for(var u=void 0,o=0;o<n.selectors.length;o++)if(n.selectors[o]&&me.shouldRunSelector(n,o)){u=u||this.prepareParents(e.getParents());try{for(var a=u.length-1;a>=0;a--)if(u[a].is(n.selectors[o]))return!0}catch(l){n.selectors[o]=null}}return i.stop(),!1},e.prototype.prepareParents=function(t){var r=this;return this.jQuery(t.slice(-e.SelectorsMaxParents)).map(function(e,t){return r.jQuery(t)}).get()},e.SelectorsMaxParents=50,e.Results={DoNotCollect:{result:!1},Collect:{result:!0},TrackedEvent:{result:!0,reason:ge.TrackedEvent},Sampling:{result:!0,reason:ge.Sampling}},e}();i.registerClass("Abra:TrackedElementsFilter",fe,"wmjQuery, Abra:TrackedElementsGetter, Abra:EventSampler, Abra:Logger");var ve=function(){function e(e){this.insightsConfigurationGetter=e}return e.prototype.get=function(e){var t=this.insightsConfigurationGetter.getSync();if(t){var r=t.trackedEventsWhitelist;if(r)switch(e){case"change":return r.inputs||{};default:return r.clicks||{}}}return null},e}();i.registerClass("Abra:TrackedElementsGetter",ve,"Abra:InsightsConfigurationGetter");var me=function(){function e(){}return e.prepareOptimizationObject=function(t){if(!(t&&t.selectorsComponents&&t.selectorsComponents.symbols&&t.selectorsComponents.usage))return;if(t._selectorsOptimization)for(var r=0;r<e.ComponentTypes.length;r++)e.resetArray(t._selectorsOptimization.existInXpath[e.ComponentTypes[r]]);else t._selectorsOptimization=this.createOptimizationObject(t)},e.shouldRunSelector=function(t,r){if(!t._selectorsOptimization)return!0;for(var n=0;n<e.ComponentTypes.length;n++){var i=e.ComponentTypes[n],o=t.selectorsComponents.usage[i]&&t.selectorsComponents.usage[i][r];if(o&&t._selectorsOptimization.existInXpath[i])for(var s=0;s<o.length;s++)if(!t._selectorsOptimization.existInXpath[i][o[s]])return!1}return!0},e.createOptimizationObject=function(t){for(var r={usedInSelectors:{},existInXpath:{}},n=0;n<e.ComponentTypes.length;n++){var i=e.ComponentTypes[n];t.selectorsComponents.symbols[i]&&(r.usedInSelectors[i]=_.convertArrayToValueIndexMap(t.selectorsComponents.symbols[i]),r.existInXpath[i]=this.createCompareArray(t.selectorsComponents.symbols[i].length))}return r},e.createCompareArray=function(e){for(var t=[],r=0;r<e;r++)t.push(!1);return t},e.resetArray=function(e){if(!e)return;for(var t=0;t<e.length;t++)e[t]=!1},e.ComponentTypes=["ids","classes","attributes","tags"],e}()},543:function(e,t,r){e.exports=function(e){var t=new(r(969))(e),n=new(r(383))(t,e);return n}},969:function(e){e.exports=t;function t(e){this.getJQuery=t;function t(t){if(e.jquery)return e.jquery;if(e.getJQuery)return e.getJQuery(t);var r=n(t);return r&&r.wmjQuery}function r(t){if(e.fnName)return e.fnName;if(t){if(t.getLibWrappedWindow)return"getLibWrappedWindow";if(t.getLibWindow)return"getLibWindow"}}function n(t){if(e.winProvider){var n=r(e.winProvider);return e.winProvider[n](t)}return window}}},383:function(e){e.exports=t;function t(e,t){this.isEnabled=function(){try{return t.featuresService&&t.featuresService.isEnabled("jQueryProxy")}catch(e){return!1}},this.jqProxyProp=function(t,r){if(this.isEnabled()){var n=e.getJQuery(t);if(n&&n.fnHelpers)return n.fnHelpers[r](t)}return t[r]},this.parentNode=function(e){return this.jqProxyProp(e,"parentNode")},this.firstElementChild=function(e){return this.jqProxyProp(e,"firstElementChild")},this.childNodes=function(e){return this.jqProxyProp(e,"childNodes")},this.previousSibling=function(e){return this.jqProxyProp(e,"previousSibling")}}},819:function(e,t,r){var n=r(505).s;e.exports=n(function(e){var t=r(445).R;e(new t)})},445:function(e,t,r){var n=r(505).Iy;function i(){this.run=e;function e(){return r(228).start(n())}}t.R=i},505:function(e,t){var r,n,i={createPluginEntry:o,getCtx:s};function o(e){return function(t){n=t(),e(a)}}function s(){return n.ctx}function a(e){n.plugin(e)}r=!0,r=i,t.s=i.createPluginEntry,t.Iy=i.getCtx},185:function(e,t,r){!function(t,r){"object"==typeof e.exports?e.exports=r:t.queryGenerator=r}(this,function(e,t){var n;return function(n){var i=["DIV","SPAN","HTML","BODY","TR","TD"],o=["'"],s=r(484);s.setJQuery(e);function a(t){var r=c(t),n=[t[0]].concat(r),i=e.map(n,f),o=h(i,function(e){return null!==e}),s=g(o);s=s.reverse();var a=e.map(s,p),u=a.join(" ");return l(u)?u:void 0}n.generate=a;function u(e,t,r){if(!e)return e;var n=/^((.+) )*(([^\[]+)(\[id=".*"\])?)$/,i=e.match(n),o=i[1]||"",a=i[4],u=o+a;return!t&&r&&s.isPhraseHuman(r)&&(u+='[id="'+r+'"]'),u}n.modifyAutoQuery=u;function l(e){if(!e||!e.length)return!1;for(var t=0;t<o.length;t++)if(e.indexOf(o[t])>=0)return!1;return!0}function c(e,r){for(var n=t.parentNode(e[0]),i=r&&r[0]&&t.parentNode(r[0]),o=[];n&&1==n.nodeType&&n!=i;n=t.parentNode(n))o.push(n);return o}function h(e,t){for(var r=[],n=0;n<e.length;++n){var i=e[n];t(i)&&r.push(i)}return r}function p(e){var t=e.tagName;return e.id&&(t+='[id="'+e.id+'"]'),t}function g(e){for(var t=e.length,r=0;r<e.length;r++){var n=e[r];if(n.id){t=r;break}}var i=e.slice(0,t+1);return i}function d(e){var t=e.attr("id");if(t&&s.isPhraseHuman(t))return t;return null}function f(t,r){var n=e(t),o=d(n),s=n[0].tagName,a=e.inArray(s,i)>=0,u=0===r,l=u||o||!a;if(!l)return null;var c={tagName:s,id:o};return c}}(n||(n={})),n})},484:function(e){var t;!function(e){var t,r,n=/[a-zA-Z]/,i=/[0-9]/;!function(e){e[e.Digit=0]="Digit",e[e.Alphabet=1]="Alphabet",e[e.Other=2]="Other"}(r||(r={}));function o(e){t=e}e.setJQuery=o;function s(e){var t=new h,r=new u(e),n=t.isHuman(r);return n}e.isPhraseHuman=s;function a(e){if(n.test(e))return r.Alphabet;if(i.test(e))return r.Digit;return r.Other}var u=function(){function e(e){this.words=[],this.raw=e,this.buildWords()}return e.prototype.buildWords=function(){this.splitCategories()},e.prototype.addWord=function(e){var n=this;if(e=t.trim(e),!e)return;if(a(e[0])!==r.Alphabet)this.words.push(e);else{var i=this.splitCamelCase(e);t.each(i,function(e,t){return n.words.push(t.toLowerCase())})}},e.prototype.splitCamelCase=function(e){var t=e.replace(/([a-z](?=[A-Z]))/g,"$1 "),r=t.split(" ");return r},e.prototype.splitCategories=function(){for(var e,t=a(this.raw[0]),r=0,n=0;n<this.raw.length;n++){var i=this.raw[n],o=a(i);o!=t&&(e=this.raw.substring(n,r),this.addWord(e),r=n,t=o)}e=this.raw.substring(r,n+1),this.addWord(e)},e}();e.Sentence=u;var l=5,c=function(){function e(){var e=this;this.WHITE_LIST=["html","css","btn","js","http","a"],this.VOWELS="aeiou",this.pointers={},this.pointers[r.Alphabet]=function(t){return e.alphabetPred(t)},this.pointers[r.Digit]=function(t){return e.numberPred(t)},this.pointers[r.Other]=function(t){return e.otherPred(t)}}return e.prototype.numberPred=function(e){return!1},e.prototype.otherPred=function(e){return!0},e.prototype.alphabetPred=function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];if(this.VOWELS.indexOf(n)==-1?t++:t=0,t>=l)return!1}return!0},e.prototype.isHuman=function(e){if(this.contains(this.WHITE_LIST,e))return!0;var t=a(e[0]),r=this.pointers[t],n=r(e);return n},e.prototype.contains=function(e,r){return t.inArray(r,e)!==-1},e}();e.WordClassifier=c;var h=function(){function e(){}return e.prototype.isHuman=function(e){if(e.raw.length<=2)return!1;if(this.isUrl(e))return!1;var r=new c,n=t.map(e.words,function(e,t){return r.isHuman(e)}),i=this.all(n);return i},e.prototype.all=function(e){for(var t=e.length-1;t>=0;t--)if(!e[t])return!1;return!0},e.prototype.isUrl=function(e){var t=0==e.raw.indexOf("/")||0==e.raw.indexOf("http");return t},e}();e.SentanceClassifier=h}(t||(t={})),e.exports=t},918:function(e,t,r){var n=r(442);function i(e){i.prototype.encode=function(t){var r=n.encode(e.stringify(t));return{_enc:r}}}e.exports={Encoder:i}},442:function(e){var t=31;function r(e){for(var r,n=[],i=e.length-1;i>=0;i--)r=e.charCodeAt(i),n.push(~(r&t)&t|r&~t);return String.fromCharCode.apply(null,n)}e.exports={decode:r,encode:r}}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}var i=n(824);t=i}(),t});